
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en"><head profile="http://www.w3.org/2006/03/hcard">
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <title>The Atom Publishing Protocol</title><style type="text/css" title="Xml2Rfc (sans serif)">
a {
  text-decoration: none;
}
a.smpl {
  color: black;
}
a:hover {
  text-decoration: underline;
}
a:active {
  text-decoration: underline;
}
address {
  margin-top: 1em;
  margin-left: 2em;
  font-style: normal;
}
body {
  color: black;
  font-family: verdana, helvetica, arial, sans-serif;
  font-size: 10pt;
}
cite {
  font-style: normal;
}
dd {
  margin-right: 2em;
}
dl {
  margin-left: 2em;
}

dl.empty dd {
  margin-top: .5em;
}
dl p {
  margin-left: 0em;
}
dt {
  margin-top: .5em;
}
h1 {
  font-size: 14pt;
  line-height: 21pt;
  page-break-after: avoid;
}
h1.np {
  page-break-before: always;
}
h1 a {
  color: #333333;
}
h2 {
  font-size: 12pt;
  line-height: 15pt;
  page-break-after: avoid;
}
h2 a {
  color: black;
}
h3 {
  font-size: 10pt;
  page-break-after: avoid;
}
h3 a {
  color: black;
}
h4 {
  font-size: 10pt;
  page-break-after: avoid;
}
h4 a {
  color: black;
}
h5 {
  font-size: 10pt;
  page-break-after: avoid;
}
h5 a {
  color: black;
}
img {
  margin-left: 3em;
}
li {
  margin-left: 2em;
  margin-right: 2em;
}
ol {
  margin-left: 2em;
  margin-right: 2em;
}
ol p {
  margin-left: 0em;
}
p {
  margin-left: 2em;
  margin-right: 2em;
}
pre {
  margin-left: 3em;
  background-color: lightyellow;
  padding: .25em;
}
pre.text2 {
  border-style: dotted;
  border-width: 1px;
  background-color: #f0f0f0;
  width: 69em;
}
pre.inline {
  background-color: white;
  padding: 0em;
}
pre.text {
  border-style: dotted;
  border-width: 1px;
  background-color: #f8f8f8;
  width: 69em;
}
pre.drawing {
  border-style: solid;
  border-width: 1px;
  background-color: #f8f8f8;
  padding: 2em;
}
table {
  margin-left: 2em;
}
table.header {
  width: 95%;
  font-size: 10pt;
  color: white;
}
td.top {
  vertical-align: top;
}
td.topnowrap {
  vertical-align: top;
  white-space: nowrap; 
}
td.header {
  background-color: gray;
  width: 50%;
}
td.reference {
  vertical-align: top;
  white-space: nowrap;
  padding-right: 1em;
}
thead {
  display:table-header-group;
}
ul.toc {
  list-style: none;
  margin-left: 1.5em;
  margin-right: 0em;
  padding-left: 0em;
}
li.tocline0 {
  line-height: 150%;
  font-weight: bold;
  font-size: 10pt;
  margin-left: 0em;
  margin-right: 0em;
}
li.tocline1 {
  line-height: normal;
  font-weight: normal;
  font-size: 9pt;
  margin-left: 0em;
  margin-right: 0em;
}
li.tocline2 {
  font-size: 0pt;
}
ul p {
  margin-left: 0em;
}
ul.ind {
  list-style: none;
  margin-left: 1.5em;
  margin-right: 0em;
  padding-left: 0em;
}
li.indline0 {
  font-weight: bold;
  line-height: 200%;
  margin-left: 0em;
  margin-right: 0em;
}
li.indline1 {
  font-weight: normal;
  line-height: 150%;
  margin-left: 0em;
  margin-right: 0em;
}
.bcp14 {
  font-style: normal;
  text-transform: lowercase;
  font-variant: small-caps;
}
.comment {
  background-color: yellow;
}
.center {
  text-align: center;
}
.error {
  color: red;
  font-style: italic;
  font-weight: bold;
}
.figure {
  font-weight: bold;
  text-align: center;
  font-size: 9pt;
}
.filename {
  color: #333333;
  font-weight: bold;
  font-size: 12pt;
  line-height: 21pt;
  text-align: center;
}
.fn {
  font-weight: bold;
}
.hidden {
  display: none;
}
.left {
  text-align: left;
}
.right {
  text-align: right;
}
.title {
  color: #990000;
  font-size: 18pt;
  line-height: 18pt;
  font-weight: bold;
  text-align: center;
  margin-top: 36pt;
}
.vcardline {
  display: block;
}
.warning {
  font-size: 14pt;
  background-color: yellow;
}


@media print {
  .noprint {
    display: none;
  }
  
  a {
    color: black;
    text-decoration: none;
  }

  table.header {
    width: 90%;
  }

  td.header {
    width: 50%;
    color: black;
    background-color: white;
    vertical-align: top;
    font-size: 12pt;
  }

  ul.toc a::after {
    content: leader('.') target-counter(attr(href), page);
  }
  
  a.iref {
    content: target-counter(attr(href), page);
  }
  
  .print2col {
    column-count: 2;
    -moz-column-count: 2;
    column-fill: auto;
  }
}

@page {
  @top-left {
       content: "RFC 5023"; 
  } 
  @top-right {
       content: "October 2007"; 
  } 
  @top-center {
       content: "The Atom Publishing Protocol"; 
  } 
  @bottom-left {
       content: "Gregorio & de hOra"; 
  } 
  @bottom-center {
       content: "Standards Track"; 
  } 
  @bottom-right {
       content: "[Page " counter(page) "]"; 
  } 
}

@page:first { 
    @top-left {
      content: normal;
    }
    @top-right {
      content: normal;
    }
    @top-center {
      content: normal;
    }
}
</style><link rel="Contents" href="#rfc.toc"><link rel="Author" href="#rfc.authors"><link rel="Copyright" href="#rfc.copyright"><link rel="Chapter" title="1 Introduction" href="#rfc.section.1"><link rel="Chapter" title="2 Notational Conventions" href="#rfc.section.2"><link rel="Chapter" title="3 Terminology" href="#rfc.section.3"><link rel="Chapter" title="4 Protocol Model" href="#rfc.section.4"><link rel="Chapter" title="5 Protocol Operations" href="#rfc.section.5"><link rel="Chapter" title="6 Protocol Documents" href="#rfc.section.6"><link rel="Chapter" title="7 Category Documents" href="#rfc.section.7"><link rel="Chapter" title="8 Service Documents" href="#rfc.section.8"><link rel="Chapter" title="9 Creating and Editing Resources" href="#rfc.section.9"><link rel="Chapter" title="10 Listing Collections" href="#rfc.section.10"><link rel="Chapter" title="11 Atom Format Link Relation Extensions" href="#rfc.section.11"><link rel="Chapter" title="12 The Atom Format Type Parameter" href="#rfc.section.12"><link rel="Chapter" title="13 Atom Publishing Controls" href="#rfc.section.13"><link rel="Chapter" title="14 Securing the Atom Publishing Protocol" href="#rfc.section.14"><link rel="Chapter" title="15 Security Considerations" href="#rfc.section.15"><link rel="Chapter" title="16 IANA Considerations" href="#rfc.section.16"><link rel="Chapter" href="#rfc.section.17" title="17 References"><link rel="Appendix" title="A Contributors" href="#rfc.section.A"><link rel="Appendix" title="B RELAX NG Compact Schema" href="#rfc.section.B"><link rel="Alternate" title="Authorative ASCII version" href="http://www.ietf.org/rfc/rfc5023.txt"><meta name="generator" content="http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.347, 2007/10/17 18:01:49, XSLT vendor: SAXON 6.5.3 from Michael Kay http://saxon.sf.net/"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.Creator" content="Gregorio, J.C."><meta name="DC.Creator" content="de hOra, B."><meta name="DC.Identifier" content="urn:ietf:rfc:5023"><meta name="DC.Date.Issued" scheme="ISO8601" content="2007-10"><meta name="DC.Description.Abstract" content="The Atom Publishing Protocol (AtomPub) is an application-level protocol for publishing and editing Web resources. The protocol is based on HTTP transfer of Atom-formatted representations. The Atom format is documented in the Atom Syndication Format."></head><body><table summary="header information" class="header" border="0" cellpadding="1" cellspacing="1"><tr><td class="header left">Network Working Group</td><td class="header right">J.C. Gregorio, Editor</td></tr><tr><td class="header left">Request for Comments: 5023</td><td class="header right">Google</td></tr><tr><td class="header left">Category: Standards Track</td><td class="header right">B. de hOra, Editor</td></tr><tr><td class="header left"></td><td class="header right">NewBay Software</td></tr><tr><td class="header left"></td><td class="header right">October 2007</td></tr></table><p class="title">The Atom Publishing Protocol</p><h1><a id="rfc.status" href="#rfc.status">Status of this Memo</a></h1><p>This document specifies an Internet standards track protocol for the Internet community, and requests discussion and suggestions for improvements. Please refer to the current edition of the &#8220;Internet Official Protocol Standards&#8221; (STD 1) for the standardization state and status of this protocol. Distribution of this memo is unlimited.</p><h1><a id="rfc.copyrightnotice" href="#rfc.copyrightnotice">Copyright Notice</a></h1><p>Copyright &copy; The IETF Trust (2007). All Rights Reserved.</p><h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1> <p>The Atom Publishing Protocol (AtomPub) is an application-level protocol for publishing and editing Web resources. The protocol is based on HTTP transfer of Atom-formatted representations. The Atom format is documented in the Atom Syndication Format.</p> <hr class="noprint"><h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1><ul class="toc"><li class="tocline0">1.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.1">Introduction</a></li><li class="tocline0">2.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.2">Notational Conventions</a><ul class="toc"><li class="tocline1">2.1&nbsp;&nbsp;&nbsp;<a href="#xml-conv">XML-Related Conventions</a><ul class="toc"><li class="tocline1">2.1.1&nbsp;&nbsp;&nbsp;<a href="#i-items">Referring to Information Items</a></li><li class="tocline1">2.1.2&nbsp;&nbsp;&nbsp;<a href="#rfc.section.2.1.2">RELAX NG Schema</a></li><li class="tocline1">2.1.3&nbsp;&nbsp;&nbsp;<a href="#baselang">Use of "xml:base" and "xml:lang"</a></li></ul></li></ul></li><li class="tocline0">3.&nbsp;&nbsp;&nbsp;<a href="#terminology">Terminology</a></li><li class="tocline0">4.&nbsp;&nbsp;&nbsp;<a href="#model">Protocol Model</a><ul class="toc"><li class="tocline1">4.1&nbsp;&nbsp;&nbsp;<a href="#naming">Identity and Naming</a></li><li class="tocline1">4.2&nbsp;&nbsp;&nbsp;<a href="#dataiscode">Documents and Resource Classification </a></li><li class="tocline1">4.3&nbsp;&nbsp;&nbsp;<a href="#codeisdata">Control and Publishing</a></li><li class="tocline1">4.4&nbsp;&nbsp;&nbsp;<a href="#larksvomit">Client Implementation Considerations</a></li></ul></li><li class="tocline0">5.&nbsp;&nbsp;&nbsp;<a href="#operation">Protocol Operations</a><ul class="toc"><li class="tocline1">5.1&nbsp;&nbsp;&nbsp;<a href="#find-collections">Retrieving a Service Document</a></li><li class="tocline1">5.2&nbsp;&nbsp;&nbsp;<a href="#listing">Listing Collection Members</a></li><li class="tocline1">5.3&nbsp;&nbsp;&nbsp;<a href="#post-to-create">Creating a Resource</a></li><li class="tocline1">5.4&nbsp;&nbsp;&nbsp;<a href="#edit">Editing a Resource</a><ul class="toc"><li class="tocline1">5.4.1&nbsp;&nbsp;&nbsp;<a href="#rfc.section.5.4.1">Retrieving a Resource</a></li><li class="tocline1">5.4.2&nbsp;&nbsp;&nbsp;<a href="#rfc.section.5.4.2">Editing a Resource</a></li><li class="tocline1">5.4.3&nbsp;&nbsp;&nbsp;<a href="#rfc.section.5.4.3">Deleting a Resource</a></li></ul></li><li class="tocline1">5.5&nbsp;&nbsp;&nbsp;<a href="#rfc.section.5.5">Use of HTTP Response Codes</a></li></ul></li><li class="tocline0">6.&nbsp;&nbsp;&nbsp;<a href="#xmlns">Protocol Documents</a><ul class="toc"><li class="tocline1">6.1&nbsp;&nbsp;&nbsp;<a href="#appcatsext">Document Types</a></li><li class="tocline1">6.2&nbsp;&nbsp;&nbsp;<a href="#appcatsex">Document Extensibility</a></li></ul></li><li class="tocline0">7.&nbsp;&nbsp;&nbsp;<a href="#catdocs">Category Documents</a><ul class="toc"><li class="tocline1">7.1&nbsp;&nbsp;&nbsp;<a href="#catdocseg">Example</a></li><li class="tocline1">7.2&nbsp;&nbsp;&nbsp;<a href="#catdocselemdef">Element Definitions</a><ul class="toc"><li class="tocline1">7.2.1&nbsp;&nbsp;&nbsp;<a href="#appcats">The "app:categories" Element</a><ul class="toc"><li class="tocline1">7.2.1.1&nbsp;&nbsp;&nbsp;<a href="#appcatsattr">Attributes of "app:categories"</a></li></ul></li></ul></li></ul></li><li class="tocline0">8.&nbsp;&nbsp;&nbsp;<a href="#appdocs">Service Documents</a><ul class="toc"><li class="tocline1">8.1&nbsp;&nbsp;&nbsp;<a href="#workspaces">Workspaces</a></li><li class="tocline1">8.2&nbsp;&nbsp;&nbsp;<a href="#appdocs_example">Example</a></li><li class="tocline1">8.3&nbsp;&nbsp;&nbsp;<a href="#service_document_elements">Element Definitions</a><ul class="toc"><li class="tocline1">8.3.1&nbsp;&nbsp;&nbsp;<a href="#rfc.section.8.3.1">The "app:service" Element</a></li><li class="tocline1">8.3.2&nbsp;&nbsp;&nbsp;<a href="#rfc.section.8.3.2">The "app:workspace" Element</a><ul class="toc"><li class="tocline1">8.3.2.1&nbsp;&nbsp;&nbsp;<a href="#rfc.section.8.3.2.1">The "atom:title" Element</a></li></ul></li><li class="tocline1">8.3.3&nbsp;&nbsp;&nbsp;<a href="#rfc.section.8.3.3">The "app:collection" Element</a><ul class="toc"><li class="tocline1">8.3.3.1&nbsp;&nbsp;&nbsp;<a href="#rfc.section.8.3.3.1">The "href" Attribute</a></li><li class="tocline1">8.3.3.2&nbsp;&nbsp;&nbsp;<a href="#rfc.section.8.3.3.2">The "atom:title" Element</a></li></ul></li><li class="tocline1">8.3.4&nbsp;&nbsp;&nbsp;<a href="#accept">The "app:accept" Element</a></li><li class="tocline1">8.3.5&nbsp;&nbsp;&nbsp;<a href="#rfc.section.8.3.5">Usage in Atom Feed Documents</a></li><li class="tocline1">8.3.6&nbsp;&nbsp;&nbsp;<a href="#categories-elem">The "app:categories" Element</a></li></ul></li></ul></li><li class="tocline0">9.&nbsp;&nbsp;&nbsp;<a href="#collection_resource">Creating and Editing Resources</a><ul class="toc"><li class="tocline1">9.1&nbsp;&nbsp;&nbsp;<a href="#memuri">Member URIs</a></li><li class="tocline1">9.2&nbsp;&nbsp;&nbsp;<a href="#crwp">Creating Resources with POST</a><ul class="toc"><li class="tocline1">9.2.1&nbsp;&nbsp;&nbsp;<a href="#create-example">Example</a></li></ul></li><li class="tocline1">9.3&nbsp;&nbsp;&nbsp;<a href="#edit-via-PUT">Editing Resources with PUT</a></li><li class="tocline1">9.4&nbsp;&nbsp;&nbsp;<a href="#delete-via-DELETE">Deleting Resources with DELETE</a></li><li class="tocline1">9.5&nbsp;&nbsp;&nbsp;<a href="#etags">Caching and Entity Tags</a><ul class="toc"><li class="tocline1">9.5.1&nbsp;&nbsp;&nbsp;<a href="#edit-no-lost-update">Example</a></li></ul></li><li class="tocline1">9.6&nbsp;&nbsp;&nbsp;<a href="#media-link-entries">Media Resources and Media Link Entries</a><ul class="toc"><li class="tocline1">9.6.1&nbsp;&nbsp;&nbsp;<a href="#mle-example">Examples</a></li></ul></li><li class="tocline1">9.7&nbsp;&nbsp;&nbsp;<a href="#rfc.section.9.7">The Slug Header</a><ul class="toc"><li class="tocline1">9.7.1&nbsp;&nbsp;&nbsp;<a href="#rfc.section.9.7.1">Slug Header Syntax</a></li><li class="tocline1">9.7.2&nbsp;&nbsp;&nbsp;<a href="#title-header-example">Example</a></li></ul></li></ul></li><li class="tocline0">10.&nbsp;&nbsp;&nbsp;<a href="#listing-collections">Listing Collections</a><ul class="toc"><li class="tocline1">10.1&nbsp;&nbsp;&nbsp;<a href="#partial-lists">Collection Partial Lists</a></li><li class="tocline1">10.2&nbsp;&nbsp;&nbsp;<a href="#rfc.section.10.2">The "app:edited" Element</a></li></ul></li><li class="tocline0">11.&nbsp;&nbsp;&nbsp;<a href="#atom-entry-extensions">Atom Format Link Relation Extensions</a><ul class="toc"><li class="tocline1">11.1&nbsp;&nbsp;&nbsp;<a href="#new-link-relation">The "edit" Link Relation</a></li><li class="tocline1">11.2&nbsp;&nbsp;&nbsp;<a href="#new-media-link-relation">The "edit-media" Link Relation</a></li></ul></li><li class="tocline0">12.&nbsp;&nbsp;&nbsp;<a href="#atom-format-type-parameter">The Atom Format Type Parameter</a><ul class="toc"><li class="tocline1">12.1&nbsp;&nbsp;&nbsp;<a href="#type-parameter-defn">The "type" parameter</a><ul class="toc"><li class="tocline1">12.1.1&nbsp;&nbsp;&nbsp;<a href="#type-parameter-conf">Conformance</a></li></ul></li></ul></li><li class="tocline0">13.&nbsp;&nbsp;&nbsp;<a href="#pub-control">Atom Publishing Controls</a><ul class="toc"><li class="tocline1">13.1&nbsp;&nbsp;&nbsp;<a href="#rfc.section.13.1">The "app:control" Element</a><ul class="toc"><li class="tocline1">13.1.1&nbsp;&nbsp;&nbsp;<a href="#rfc.section.13.1.1">The "app:draft" Element</a></li></ul></li></ul></li><li class="tocline0">14.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.14">Securing the Atom Publishing Protocol</a></li><li class="tocline0">15.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.15">Security Considerations</a><ul class="toc"><li class="tocline1">15.1&nbsp;&nbsp;&nbsp;<a href="#rfc.section.15.1">Denial of Service</a></li><li class="tocline1">15.2&nbsp;&nbsp;&nbsp;<a href="#rfc.section.15.2">Replay Attacks</a></li><li class="tocline1">15.3&nbsp;&nbsp;&nbsp;<a href="#rfc.section.15.3">Spoofing Attacks</a></li><li class="tocline1">15.4&nbsp;&nbsp;&nbsp;<a href="#rfc.section.15.4">Linked Resources</a></li><li class="tocline1">15.5&nbsp;&nbsp;&nbsp;<a href="#rfc.section.15.5">Digital Signatures and Encryption</a></li><li class="tocline1">15.6&nbsp;&nbsp;&nbsp;<a href="#rfc.section.15.6">URIs and IRIs</a></li><li class="tocline1">15.7&nbsp;&nbsp;&nbsp;<a href="#rfc.section.15.7">Code Injection and Cross Site Scripting</a></li></ul></li><li class="tocline0">16.&nbsp;&nbsp;&nbsp;<a href="#iana">IANA Considerations</a><ul class="toc"><li class="tocline1">16.1&nbsp;&nbsp;&nbsp;<a href="#iana-atomcat">Content-Type Registration for 'application/atomcat+xml'</a></li><li class="tocline1">16.2&nbsp;&nbsp;&nbsp;<a href="#iana-atomsvc">Content-Type Registration for 'application/atomsvc+xml'</a></li><li class="tocline1">16.3&nbsp;&nbsp;&nbsp;<a href="#iana-slug">Header Field Registration for 'SLUG'</a></li><li class="tocline1">16.4&nbsp;&nbsp;&nbsp;<a href="#link-rel-edit-reg">The Link Relation Registration "edit"</a></li><li class="tocline1">16.5&nbsp;&nbsp;&nbsp;<a href="#link-rel-edit-media-reg">The Link Relation Registration "edit-media"</a></li><li class="tocline1">16.6&nbsp;&nbsp;&nbsp;<a href="#atom-type-reg">The Atom Format Media Type Parameter</a></li></ul></li><li class="tocline0">17.&nbsp;&nbsp;&nbsp;<a href="#rfc.references">References</a><ul class="toc"><li class="tocline1">17.1&nbsp;&nbsp;&nbsp;<a href="#rfc.references.1">Normative References</a></li><li class="tocline1">17.2&nbsp;&nbsp;&nbsp;<a href="#rfc.references.2">Informative References</a></li></ul></li><li class="tocline0"><a href="#rfc.authors">Authors' Addresses</a></li><li class="tocline0">A.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.A">Contributors</a></li><li class="tocline0">B.&nbsp;&nbsp;&nbsp;<a href="#schema">RELAX NG Compact Schema</a></li><li class="tocline0"><a href="#rfc.ipr">Intellectual Property and Copyright Statements</a></li></ul><h1 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;Introduction</h1><p id="rfc.section.1.p.1">The Atom Publishing Protocol is an application-level protocol for publishing and editing Web Resources using HTTP <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a> and XML 1.0 <a href="#REC-xml"><cite title="Extensible Markup Language (XML) 1.0 (Fourth Edition)">[REC-xml]</cite></a>. The protocol supports the creation of Web Resources and provides facilities for:</p><p id="rfc.section.1.p.2"> </p><ul><li>Collections: Sets of Resources, which can be retrieved in whole or in part.</li><li>Services: Discovery and description of Collections.</li><li>Editing: Creating, editing, and deleting Resources.</li></ul><p id="rfc.section.1.p.3">The Atom Publishing Protocol is different from many contemporary protocols in that the server is given wide latitude in processing requests from clients. See <a href="#larksvomit" title="Client Implementation Considerations">Section&nbsp;4.4</a> for more details.</p><h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;Notational Conventions</h1><p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119"><cite title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>.</p><h2 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1</a>&nbsp;<a id="xml-conv" href="#xml-conv">XML-Related Conventions</a></h2><h3 id="rfc.section.2.1.1"><a href="#rfc.section.2.1.1">2.1.1</a>&nbsp;<a id="i-items" href="#i-items">Referring to Information Items</a></h3><p id="rfc.section.2.1.1.p.1">Atom Protocol Document formats are specified in terms of the XML Information Set <a href="#REC-xml-infoset"><cite title="XML Information Set (Second Edition)">[REC-xml-infoset]</cite></a>, serialized as XML 1.0 <a href="#REC-xml"><cite title="Extensible Markup Language (XML) 1.0 (Fourth Edition)">[REC-xml]</cite></a>.</p><p id="rfc.section.2.1.1.p.2">The Infoset terms "Element Information Item" and "Attribute Information Item" are shortened to "element" and "attribute" respectively. Therefore, when this specification uses the term "element", it is referring to an Element Information Item, and when it uses the term "attribute", it is referring to an Attribute Information Item.</p><h3 id="rfc.section.2.1.2"><a href="#rfc.section.2.1.2">2.1.2</a>&nbsp;RELAX NG Schema</h3><p id="rfc.section.2.1.2.p.1">Some sections of this specification are illustrated with fragments of a non-normative RELAX NG Compact schema <a href="#RNC"><cite title="RELAX NG Compact Syntax">[RNC]</cite></a>. However, the text of this specification provides the definition of conformance. Complete schemas appear in <a href="#schema" title="RELAX NG Compact Schema">Appendix&nbsp;B</a>.</p><h3 id="rfc.section.2.1.3"><a href="#rfc.section.2.1.3">2.1.3</a>&nbsp;<a id="baselang" href="#baselang">Use of "xml:base" and "xml:lang"</a></h3><p id="rfc.section.2.1.3.p.1">XML elements defined by this specification <em class="bcp14">MAY</em> have an "xml:base" attribute <a href="#REC-xmlbase"><cite title="XML Base">[REC-xmlbase]</cite></a>. When xml:base is used, it serves the function described in <a href="http://tools.ietf.org/html/rfc3986#section-5.1.1">Section 5.1.1</a> of URI Generic Syntax <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a>, by establishing the base URI (or IRI, Internationalized Resource Identifier <a href="#RFC3987"><cite title="Internationalized Resource Identifiers (IRIs)">[RFC3987]</cite></a>) for resolving relative references found within the scope of the "xml:base" attribute.</p><p id="rfc.section.2.1.3.p.2">Any element defined by this specification <em class="bcp14">MAY</em> have an "xml:lang" attribute, whose content indicates the natural language for the element and its descendants. Requirements regarding the content and interpretation of "xml:lang" are specified in <a href="http://www.w3.org/TR/2006/REC-xml-20060816#sec-lang-tag">Section 2.12</a> of XML 1.0 <a href="#REC-xml"><cite title="Extensible Markup Language (XML) 1.0 (Fourth Edition)">[REC-xml]</cite></a>.</p><h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a id="terminology" href="#terminology">Terminology</a></h1><p id="rfc.section.3.p.1">For convenience, this protocol can be referred to as the "Atom Protocol" or "AtomPub". The following terminology is used by this specification:</p><p id="rfc.section.3.p.2"> </p><ul><li>URI - A Uniform Resource Identifier as defined in <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a>. In this specification, the phrase "the URI of a document" is shorthand for "a URI which, when dereferenced, is expected to produce that document as a representation".</li><li>IRI - An Internationalized Resource Identifier as defined in <a href="#RFC3987"><cite title="Internationalized Resource Identifiers (IRIs)">[RFC3987]</cite></a>. Before an IRI found in a document is used by HTTP, the IRI is first converted to a URI. See <a href="#naming" title="Identity and Naming">Section&nbsp;4.1</a>.</li><li>Resource - A network-accessible data object or service identified by an IRI, as defined in <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>. See <a href="#REC-webarch"><cite title="Architecture of the World Wide Web, Volume One">[REC-webarch]</cite></a> for further discussion on Resources.</li><li>relation (or "relation of") - Refers to the "rel" attribute value of an atom:link element.</li><li>Representation - An entity included with a request or response as defined in <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>.</li><li>Collection - A Resource that contains a set of Member Resources. Collections are represented as Atom Feeds. See <a href="#collection_resource" title="Creating and Editing Resources">Section&nbsp;9</a>.</li><li>Member (or Member Resource) - A Resource whose IRI is listed in a Collection by an atom:link element with a relation of "edit" or "edit-media". See <a href="#memuri" title="Member URIs">Section&nbsp;9.1</a>. The protocol defines two kinds of Members: <ul><li>Entry Resource - Members of a Collection that are represented as Atom Entry Documents, as defined in <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>.</li><li>Media Resource - Members of a Collection that have representations other than Atom Entry Documents.</li></ul> </li><li>Media Link Entry - An Entry Resource that contains metadata about a Media Resource. See <a href="#media-link-entries" title="Media Resources and Media Link Entries">Section&nbsp;9.6</a>.</li><li>Workspace - A named group of Collections. See <a href="#workspaces" title="Workspaces">Section&nbsp;8.1</a>.</li><li>Service Document - A document that describes the location and capabilities of one or more Collections, grouped into Workspaces. See <a href="#appdocs" title="Service Documents">Section&nbsp;8</a>.</li><li>Category Document - A document that describes the categories allowed in a Collection. See <a href="#catdocs" title="Category Documents">Section&nbsp;7</a>.</li></ul><h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a id="model" href="#model">Protocol Model</a></h1><p id="rfc.section.4.p.1">The Atom Protocol specifies operations for publishing and editing Resources using HTTP. It uses Atom-formatted representations to describe the state and metadata of those Resources. It defines how Collections of Resources can be organized, and it specifies formats to support their discovery, grouping and categorization.</p><h2 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1</a>&nbsp;<a id="naming" href="#naming">Identity and Naming</a></h2><p id="rfc.section.4.1.p.1">Atom Protocol documents allow the use of IRIs <a href="#RFC3987"><cite title="Internationalized Resource Identifiers (IRIs)">[RFC3987]</cite></a> as well as URIs <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a> to identify Resources. Before an IRI in a document is used by HTTP, the IRI is first converted to a URI according to the procedure defined in <a href="http://tools.ietf.org/html/rfc3987#section-3.1">Section 3.1</a> of <a href="#RFC3987"><cite title="Internationalized Resource Identifiers (IRIs)">[RFC3987]</cite></a>. In accordance with that specification, the conversion <em class="bcp14">SHOULD</em> be applied as late as possible. Conversion does not imply Resource creation -- the IRI and the URI into which it is converted identify the same Resource.</p><p id="rfc.section.4.1.p.2">While the Atom Protocol specifies the formats of the representations that are exchanged and the actions that can be performed on the IRIs embedded in those representations, it does not constrain the form of the URIs that are used. HTTP <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a> specifies that the URI space of each server is controlled by that server, and this protocol imposes no further constraints on that control.</p><h2 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2</a>&nbsp;<a id="dataiscode" href="#dataiscode">Documents and Resource Classification </a></h2><p id="rfc.section.4.2.p.1">A Resource whose IRI is listed in a Collection is called a Member Resource. The protocol defines two kinds of Member Resources -- Entry Resources and Media Resources. Entry Resources are represented as Atom Entry Documents <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>. Media Resources can have representations in any media type. A Media Resource is described within a Collection using an Entry called a Media Link Entry. This diagram shows the classification of Resources within the Atom Protocol:</p><div id="rfc.figure.u.1"></div> <pre class="drawing">             Member Resources
                    |
             -----------------
            |                 |
      Entry Resources     Media Resources
            |
      Media Link Entry      
</pre> <p id="rfc.section.4.2.p.3">The Atom Protocol defines Collection Resources for managing and organizing both kinds of Member Resource. A Collection is represented by an Atom Feed Document. A Collection Feed's Entries contain the IRIs of, and metadata about, the Collection's Member Resources. A Collection Feed can contain any number of Entries, which might represent all the Members of the Collection, or an ordered subset of them (see <a href="#partial-lists" title="Collection Partial Lists">Section&nbsp;10.1</a>). In the diagram of a Collection below, there are two Entries. The first contains the IRI of an Entry Resource. The second contains the IRIs of both a Media Resource and a Media Link Entry, which contains the metadata for that Media Resource:</p><div id="rfc.figure.u.2"></div> <pre class="drawing">  Collection
     |
     o- Entry
     |    |
     |    o- Member Entry IRI (Entry Resource)
     |
     o- Entry
          | 
          o- Member Entry IRI (Media Link Entry)
          | 
          o- Media IRI        (Media Resource)
</pre> <p id="rfc.section.4.2.p.5">The Atom Protocol does not make a distinction between Feeds used for Collections and other Atom Feeds. The only mechanism that this specification supplies for indicating that a Feed is a Collection Feed is the presence of the Feed's IRI in a Service Document.</p><p id="rfc.section.4.2.p.6">Service Documents represent server-defined groups of Collections, and are used to initialize the process of creating and editing Resources. These groups of Collections are called Workspaces. Workspaces have names, but no IRIs, and no specified processing model. The Service Document can indicate which media types, and which categories, a Collection will accept. In the diagram below, there are two Workspaces each describing the IRIs, acceptable media types, and categories for a Collection:</p><div id="rfc.figure.u.3"></div> <pre class="drawing">  Service
     o- Workspace
     |    |
     |    o- Collection
     |         |
     |         o- IRI, categories, media types
     |
     o- Workspace
          |
          o- Collection
               |
               o- IRI, categories, media types
     </pre> <h2 id="rfc.section.4.3"><a href="#rfc.section.4.3">4.3</a>&nbsp;<a id="codeisdata" href="#codeisdata">Control and Publishing</a></h2><p id="rfc.section.4.3.p.1">The Atom Publishing Protocol uses HTTP methods to author Member Resources as follows:</p><p id="rfc.section.4.3.p.2"> </p><ul><li>GET is used to retrieve a representation of a known Resource.</li><li>POST is used to create a new, dynamically named, Resource. When the client submits non-Atom-Entry representations to a Collection for creation, two Resources are always created -- a Media Entry for the requested Resource, and a Media Link Entry for metadata about the Resource that will appear in the Collection.</li><li>PUT is used to edit a known Resource. It is not used for Resource creation.</li><li>DELETE is used to remove a known Resource.</li></ul><p id="rfc.section.4.3.p.3">The Atom Protocol only covers the creating, editing, and deleting of Entry and Media Resources. Other Resources could be created, edited, and deleted as the result of manipulating a Collection, but the number of those Resources, their media types, and effects of Atom Protocol operations on them are outside the scope of this specification.</p><p id="rfc.section.4.3.p.4">Since all aspects of client-server interaction are defined in terms of HTTP, <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a> should be consulted for any areas not covered in this specification.</p><h2 id="rfc.section.4.4"><a href="#rfc.section.4.4">4.4</a>&nbsp;<a id="larksvomit" href="#larksvomit">Client Implementation Considerations</a></h2><p id="rfc.section.4.4.p.1">The Atom Protocol imposes few restrictions on the actions of servers. Unless a constraint is specified here, servers can be expected to vary in behavior, in particular around the manipulation of Atom Entries sent by clients. For example, although this specification only defines the expected behavior of Collections with respect to GET and POST, this does not imply that PUT, DELETE, PROPPATCH, and others are forbidden on Collection Resources -- only that this specification does not define what the server's response would be to those methods. Similarly, while some HTTP status codes are mentioned explicitly, clients ought to be prepared to handle any status code from a server. Servers can choose to accept, reject, delay, moderate, censor, reformat, translate, relocate, or re-categorize the content submitted to them. Only some of these choices are immediately relayed back to the client in responses to client requests; other choices may only become apparent later, in the feed or published entries. The same series of requests to two different publishing sites can result in a different series of HTTP responses, different resulting feeds, or different entry contents.</p><p id="rfc.section.4.4.p.2">As a result, client software has to be written flexibly to accept what the server decides are the results of its submissions. Any server response or server content modification not explicitly forbidden by this specification or HTTP <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a> is therefore allowed.</p><h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a id="operation" href="#operation">Protocol Operations</a></h1><p id="rfc.section.5.p.1">While specific HTTP status codes are shown in the interaction diagrams below, an AtomPub client should be prepared to handle any status code. For example, a PUT to a Member URI could result in the return of a "204 No Content" status code, which still indicates success.</p><h2 id="rfc.section.5.1"><a href="#rfc.section.5.1">5.1</a>&nbsp;<a id="find-collections" href="#find-collections">Retrieving a Service Document</a></h2><div id="rfc.figure.u.4"></div> <pre class="drawing">Client                                     Server
  |                                           |
  |  1.) GET to Service Document URI          |
  |------------------------------------------&gt;|
  |                                           |
  |  2.) 200 Ok                               |
  |      Service Document                     |
  |&lt;------------------------------------------|
  |                                           |
</pre> <p id="rfc.section.5.1.p.2"> </p><ol><li>The client sends a GET request to the URI of the Service Document.</li><li>The server responds with a Service Document enumerating the IRIs of a group of Collections and the capabilities of those Collections supported by the server. The content of this document can vary based on aspects of the client request, including, but not limited to, authentication credentials.</li></ol><h2 id="rfc.section.5.2"><a href="#rfc.section.5.2">5.2</a>&nbsp;<a id="listing" href="#listing">Listing Collection Members</a></h2><p id="rfc.section.5.2.p.1">To list the Members of a Collection, the client sends a GET request to the URI of a Collection. An Atom Feed Document is returned whose Entries contain the IRIs of Member Resources. The returned Feed may describe all, or only a partial list, of the Members in a Collection (see <a href="#listing-collections" title="Listing Collections">Section&nbsp;10</a>).</p><div id="rfc.figure.u.5"></div> <pre class="drawing">Client                          Server
  |                                |
  |  1.) GET to Collection URI     |
  |-------------------------------&gt;|
  |                                |
  |  2.) 200 Ok                    |
  |      Atom Feed Document        |
  |&lt;-------------------------------|
  |                                |
          </pre> <p id="rfc.section.5.2.p.3"> </p><ol><li>The client sends a GET request to the URI of the Collection.</li><li>The server responds with an Atom Feed Document containing the IRIs of the Collection Members.</li></ol><h2 id="rfc.section.5.3"><a href="#rfc.section.5.3">5.3</a>&nbsp;<a id="post-to-create" href="#post-to-create">Creating a Resource</a></h2><div id="rfc.figure.u.6"></div> <pre class="drawing">Client                                     Server
  |                                           |
  |  1.) POST to Collection URI               |
  |      Member Representation                |
  |------------------------------------------&gt;|
  |                                           |
  |  2.) 201 Created                          |
  |      Location: Member Entry URI           |
  |&lt;------------------------------------------|
  |                                           |
</pre> <p id="rfc.section.5.3.p.2"> </p><ol><li>The client POSTs a representation of the Member to the URI of the Collection.</li><li>If the Member Resource was created successfully, the server responds with a status code of 201 and a Location header that contains the IRI of the newly created Entry Resource. Media Resources could have also been created and their IRIs can be found through the Entry Resource. See <a href="#media-link-entries" title="Media Resources and Media Link Entries">Section&nbsp;9.6</a> for more details.</li></ol><h2 id="rfc.section.5.4"><a href="#rfc.section.5.4">5.4</a>&nbsp;<a id="edit" href="#edit">Editing a Resource</a></h2><p id="rfc.section.5.4.p.1">Once a Resource has been created and its Member URI is known, that URI can be used to retrieve, edit, and delete the Resource. <a href="#atom-entry-extensions" title="Atom Format Link Relation Extensions">Section&nbsp;11</a> describes extensions to the Atom Syndication Format used in the Atom Protocol for editing purposes.</p><h3 id="rfc.section.5.4.1"><a href="#rfc.section.5.4.1">5.4.1</a>&nbsp;Retrieving a Resource</h3><div id="rfc.figure.u.7"></div> <pre class="drawing">Client                                     Server
  |                                           |
  |  1.) GET to Member URI                    |
  |------------------------------------------&gt;|
  |                                           |
  |  2.) 200 Ok                               |
  |      Member Representation                |
  |&lt;------------------------------------------|
  |                                           |
</pre> <p id="rfc.section.5.4.1.p.2"> </p><ol><li>The client sends a GET request to the URI of a Member Resource to retrieve its representation.</li><li>The server responds with the representation of the Member Resource.</li></ol><h3 id="rfc.section.5.4.2"><a href="#rfc.section.5.4.2">5.4.2</a>&nbsp;Editing a Resource</h3><div id="rfc.figure.u.8"></div> <pre class="drawing">Client                                     Server
  |                                           |
  |  1.) PUT to Member URI                    |
  |      Member Representation                |
  |------------------------------------------&gt;|
  |                                           |
  |  2.) 200 OK                               |
  |&lt;------------------------------------------|
</pre> <p id="rfc.section.5.4.2.p.2"> </p><ol><li>The client sends a PUT request to store a representation of a Member Resource.</li><li>If the request is successful, the server responds with a status code of 200.</li></ol><h3 id="rfc.section.5.4.3"><a href="#rfc.section.5.4.3">5.4.3</a>&nbsp;Deleting a Resource</h3><div id="rfc.figure.u.9"></div> <pre class="drawing">Client                                     Server
  |                                           |
  |  1.) DELETE to Member URI                 |
  |------------------------------------------&gt;|
  |                                           |
  |  2.) 200 OK                               |
  |&lt;------------------------------------------|
  |                                           |
</pre> <p id="rfc.section.5.4.3.p.2"> </p><ol><li>The client sends a DELETE request to the URI of a Member Resource.</li><li>If the deletion is successful, the server responds with a status code of 200.</li></ol><p> A different approach is taken for deleting Media Resources; see <a href="#delete-via-DELETE" title="Deleting Resources with DELETE">Section&nbsp;9.4</a> for details.</p><h2 id="rfc.section.5.5"><a href="#rfc.section.5.5">5.5</a>&nbsp;Use of HTTP Response Codes</h2><p id="rfc.section.5.5.p.1">The Atom Protocol uses the response status codes defined in HTTP to indicate the success or failure of an operation. Consult the HTTP specification <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a> for detailed definitions of each status code. Implementers are asked to note that according to the HTTP specification, HTTP 4xx and 5xx response entities <em class="bcp14">SHOULD</em> include a human-readable explanation of the error.</p><h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a>&nbsp;<a id="xmlns" href="#xmlns">Protocol Documents</a></h1><h2 id="rfc.section.6.1"><a href="#rfc.section.6.1">6.1</a>&nbsp;<a id="appcatsext" href="#appcatsext">Document Types</a></h2><p id="rfc.section.6.1.p.1">This specification defines two kinds of documents -- Category Documents and Service Documents.</p><p id="rfc.section.6.1.p.2">A Category Document (<a href="#catdocs" title="Category Documents">Section&nbsp;7</a>) contains lists of categories specified using the "atom:category" element from the Atom Syndication Format (see <a href="http://tools.ietf.org/html/rfc4287#section-4.2.2">Section 4.2.2</a> of <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>).</p><p id="rfc.section.6.1.p.3">A Service Document (<a href="#appdocs" title="Service Documents">Section&nbsp;8</a>) groups available Collections into Workspaces.</p><p id="rfc.section.6.1.p.4">The namespace name <a href="#REC-xml-names"><cite title="Namespaces in XML 1.0 (Second Edition)">[REC-xml-names]</cite></a> for either kind of document is:</p><div id="rfc.figure.u.10"></div> <pre class="text">    http://www.w3.org/2007/app</pre> <p id="rfc.section.6.1.p.6">Atom Publishing Protocol XML Documents <em class="bcp14">MUST</em> be "namespace-well-formed" as specified in <a href="http://www.w3.org/TR/2006/REC-xml-names-20060816#Conformance">Section 7</a> of <a href="#REC-xml-names"><cite title="Namespaces in XML 1.0 (Second Edition)">[REC-xml-names]</cite></a>.</p><p id="rfc.section.6.1.p.7">This specification uses the prefix "app:" for the namespace name. The prefix "atom:" is used for "http://www.w3.org/2005/Atom", the namespace name of the Atom Syndication Format <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>. These namespace prefixes are not semantically significant.</p><p id="rfc.section.6.1.p.8">This specification does not define any DTDs for Atom Protocol formats, and hence does not require them to be "valid" in the sense used by <a href="#REC-xml"><cite title="Extensible Markup Language (XML) 1.0 (Fourth Edition)">[REC-xml]</cite></a>.</p><h2 id="rfc.section.6.2"><a href="#rfc.section.6.2">6.2</a>&nbsp;<a id="appcatsex" href="#appcatsex">Document Extensibility</a></h2><p id="rfc.section.6.2.p.1">Unrecognized markup in an Atom Publishing Protocol document is considered "foreign markup" as defined in <a href="http://tools.ietf.org/html/rfc4287#section-6">Section 6</a> of the Atom Syndication Format <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>. Foreign markup can be used anywhere within a Category or Service Document unless it is explicitly forbidden. Processors that encounter foreign markup <em class="bcp14">MUST NOT</em> stop processing and <em class="bcp14">MUST NOT</em> signal an error. Clients <em class="bcp14">SHOULD</em> preserve foreign markup when transmitting such documents.</p><p id="rfc.section.6.2.p.2">The namespace name "http://www.w3.org/2007/app" is reserved for forward-compatible revisions of the Category and Service Document types. This does not exclude the addition of elements and attributes that might not be recognized by processors conformant to this specification. Such unrecognized markup from the "http://www.w3.org/2007/app" namespace <em class="bcp14">MUST</em> be treated as foreign markup.</p><h1 id="rfc.section.7"><a href="#rfc.section.7">7.</a>&nbsp;<a id="catdocs" href="#catdocs">Category Documents</a></h1><p id="rfc.section.7.p.1">Category Documents contain lists of categories described using the "atom:category" element from the Atom Syndication Format <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>. Categories can also appear in Service Documents, where they indicate the categories allowed in a Collection (see <a href="#categories-elem" title="The &#34;app:categories&#34; Element">Section&nbsp;8.3.6</a>).</p><p id="rfc.section.7.p.2">Category Documents are identified with the "application/atomcat+xml" media type (see <a href="#iana-atomcat" title="Content-Type Registration for 'application/atomcat+xml'">Section&nbsp;16.1</a>).</p><h2 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1</a>&nbsp;<a id="catdocseg" href="#catdocseg">Example</a></h2><div id="rfc.figure.u.11"></div> <pre class="text">    &lt;?xml version="1.0" ?&gt;
    &lt;app:categories
        xmlns:app="http://www.w3.org/2007/app"
        xmlns:atom="http://www.w3.org/2005/Atom"
        fixed="yes" scheme="http://example.com/cats/big3"&gt;
      &lt;atom:category term="animal" /&gt;
      &lt;atom:category term="vegetable" /&gt;
      &lt;atom:category term="mineral" /&gt;
    &lt;/app:categories&gt;
</pre> <p id="rfc.section.7.1.p.2">This Category Document contains atom:category elements, with the terms 'animal', 'vegetable', and 'mineral'. None of the categories use the "label" attribute defined in <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>. They all inherit the "http://example.com/cats/big3" "scheme" attribute declared on the app:categories element. Therefore if the 'mineral' category were to appear in an Atom Entry or Feed Document, it would appear as:</p><div id="rfc.figure.u.12"></div> <pre class="text">&lt;atom:category scheme="http://example.com/cats/big3" term="mineral"/&gt;
</pre> <h2 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2</a>&nbsp;<a id="catdocselemdef" href="#catdocselemdef">Element Definitions</a></h2><h3 id="rfc.section.7.2.1"><a href="#rfc.section.7.2.1">7.2.1</a>&nbsp;<a id="appcats" href="#appcats">The "app:categories" Element</a></h3><p id="rfc.section.7.2.1.p.1">The root of a Category Document is the "app:categories" element. An app:categories element can contain zero or more atom:category elements from the Atom Syndication Format <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a> namespace ("http://www.w3.org/2005/Atom").</p><p id="rfc.section.7.2.1.p.2">An atom:category child element that has no "scheme" attribute inherits the attribute from its app:categories parent. An atom:category child element with an existing "scheme" attribute does not inherit the "scheme" value of its app:categories parent element.</p><p id="rfc.section.7.2.1.p.3"> </p><div id="rfc.figure.u.13"></div> <pre class="inline">atomCategory =
    element atom:category {
       atomCommonAttributes,
       attribute term { text },
       attribute scheme { atomURI }?,
       attribute label { text }?,
       undefinedContent
    }

appInlineCategories =
    element app:categories {
        attribute fixed { "yes" | "no" }?,
        attribute scheme { atomURI }?,
        (atomCategory*,
        undefinedContent)
    }

appOutOfLineCategories =
    element app:categories {
        attribute href { atomURI },
        undefinedContent
    }

appCategories = appInlineCategories | appOutOfLineCategories</pre> <h4 id="rfc.section.7.2.1.1"><a href="#rfc.section.7.2.1.1">7.2.1.1</a>&nbsp;<a id="appcatsattr" href="#appcatsattr">Attributes of "app:categories"</a></h4><p id="rfc.section.7.2.1.1.p.1">The app:categories element can contain a "fixed" attribute, with a value of either "yes" or "no", indicating whether the list of categories is a fixed or an open set. The absence of the "fixed" attribute is equivalent to the presence of a "fixed" attribute with a value of "no".</p><p id="rfc.section.7.2.1.1.p.2">Alternatively, the app:categories element <em class="bcp14">MAY</em> contain an "href" attribute, whose value <em class="bcp14">MUST</em> be an IRI reference identifying a Category Document. If the "href" attribute is provided, the app:categories element <em class="bcp14">MUST</em> be empty and <em class="bcp14">MUST</em> NOT have the "fixed" or "scheme" attributes.</p><h1 id="rfc.section.8"><a href="#rfc.section.8">8.</a>&nbsp;<a id="appdocs" href="#appdocs">Service Documents</a></h1><p id="rfc.section.8.p.1">For authoring to commence, a client needs to discover the capabilities and locations of the available Collections. Service Documents are designed to support this discovery process.</p><p id="rfc.section.8.p.2">How Service Documents are discovered is not defined in this specification.</p><p id="rfc.section.8.p.3">Service Documents are identified with the "application/atomsvc+xml" media type (see <a href="#iana-atomsvc" title="Content-Type Registration for 'application/atomsvc+xml'">Section&nbsp;16.2</a>).</p><h2 id="rfc.section.8.1"><a href="#rfc.section.8.1">8.1</a>&nbsp;<a id="workspaces" href="#workspaces">Workspaces</a></h2><p id="rfc.section.8.1.p.1">A Service Document groups Collections into Workspaces. Operations on Workspaces, such as creation or deletion, are not defined by this specification. This specification assigns no meaning to Workspaces; that is, a Workspace does not imply any specific processing assumptions.</p><p id="rfc.section.8.1.p.2">There is no requirement that a server support multiple Workspaces. In addition, a Collection <em class="bcp14">MAY</em> appear in more than one Workspace.</p><h2 id="rfc.section.8.2"><a href="#rfc.section.8.2">8.2</a>&nbsp;<a id="appdocs_example" href="#appdocs_example">Example</a></h2><div id="rfc.figure.u.14"></div> <pre class="text">&lt;?xml version="1.0" encoding='utf-8'?&gt;
&lt;service xmlns="http://www.w3.org/2007/app"
         xmlns:atom="http://www.w3.org/2005/Atom"&gt;
  &lt;workspace&gt;
    &lt;atom:title&gt;Main Site&lt;/atom:title&gt;
    &lt;collection
        href="http://example.org/blog/main" &gt;
      &lt;atom:title&gt;My Blog Entries&lt;/atom:title&gt;
      &lt;categories
         href="http://example.com/cats/forMain.cats" /&gt;
    &lt;/collection&gt;
    &lt;collection
        href="http://example.org/blog/pic" &gt;
      &lt;atom:title&gt;Pictures&lt;/atom:title&gt;
      &lt;accept&gt;image/png&lt;/accept&gt;
      &lt;accept&gt;image/jpeg&lt;/accept&gt;
      &lt;accept&gt;image/gif&lt;/accept&gt;
    &lt;/collection&gt;
  &lt;/workspace&gt;
  &lt;workspace&gt;
    &lt;atom:title&gt;Sidebar Blog&lt;/atom:title&gt;
    &lt;collection
        href="http://example.org/sidebar/list" &gt;
      &lt;atom:title&gt;Remaindered Links&lt;/atom:title&gt;
      &lt;accept&gt;application/atom+xml;type=entry&lt;/accept&gt;
      &lt;categories fixed="yes"&gt;
        &lt;atom:category
          scheme="http://example.org/extra-cats/"
          term="joke" /&gt;
        &lt;atom:category
          scheme="http://example.org/extra-cats/"
          term="serious" /&gt;
      &lt;/categories&gt;
    &lt;/collection&gt;
  &lt;/workspace&gt;
&lt;/service&gt;
</pre> <p id="rfc.section.8.2.p.2">The Service Document above describes two Workspaces. The first Workspace is called "Main Site", and has two Collections called "My Blog Entries" and "Pictures", whose IRIs are "http://example.org/blog/main" and "http://example.org/blog/pic" respectively. The "Pictures" Collection includes three "accept" elements indicating the types of image files the client can send to the Collection to create new Media Resources (entries associated with Media Resources are discussed in <a href="#media-link-entries" title="Media Resources and Media Link Entries">Section&nbsp;9.6</a>).</p><p id="rfc.section.8.2.p.3">The second Workspace is called "Sidebar Blog" and has a single Collection called "Remaindered Links" whose IRI is "http://example.org/sidebar/list". The Collection has an "accept" element whose content is "application/atom+xml;type=entry", indicating it will accept Atom Entries from a client.</p><p id="rfc.section.8.2.p.4">Within each of the two Entry Collections, the "categories" element provides a list of available categories for Member Entries. In the "My Blog Entries" Collection, the list of available categories is available through the "href" attribute. The "Sidebar Blog" Collection provides a category list within the Service Document, but states the list is fixed, signaling a request from the server that Entries be POSTed using only those two categories.</p><h2 id="rfc.section.8.3"><a href="#rfc.section.8.3">8.3</a>&nbsp;<a id="service_document_elements" href="#service_document_elements">Element Definitions</a></h2><h3 id="rfc.section.8.3.1"><a href="#rfc.section.8.3.1">8.3.1</a>&nbsp;The "app:service" Element</h3><p id="rfc.section.8.3.1.p.1">The root of a Service Document is the "app:service" element.</p><p id="rfc.section.8.3.1.p.2">The app:service element is the container for service information associated with one or more Workspaces. An app:service element <em class="bcp14">MUST</em> contain one or more app:workspace elements.</p><p id="rfc.section.8.3.1.p.3"> </p><div id="rfc.figure.u.15"></div> <pre class="inline">namespace app = "http://www.w3.org/2007/app"
start = appService
             </pre> <p id="rfc.section.8.3.1.p.4"> </p><div id="rfc.figure.u.16"></div> <pre class="inline">appService =
   element app:service {
      appCommonAttributes,
      ( appWorkspace+
        &amp; extensionElement* )
   }</pre> <h3 id="rfc.section.8.3.2"><a href="#rfc.section.8.3.2">8.3.2</a>&nbsp;The "app:workspace" Element</h3><p id="rfc.section.8.3.2.p.1">Workspaces are server-defined groups of Collections. The "app:workspace" element contains zero or more app:collection elements describing the Collections of Resources available for editing.</p><p id="rfc.section.8.3.2.p.2"> </p><div id="rfc.figure.u.17"></div> <pre class="inline">appWorkspace =
   element app:workspace {
      appCommonAttributes,
      ( atomTitle
        &amp; appCollection*
        &amp; extensionSansTitleElement* )
   }

atomTitle = element atom:title { atomTextConstruct }</pre> <h4 id="rfc.section.8.3.2.1"><a href="#rfc.section.8.3.2.1">8.3.2.1</a>&nbsp;The "atom:title" Element</h4><p id="rfc.section.8.3.2.1.p.1">The app:workspace element <em class="bcp14">MUST</em> contain one "atom:title" element (as defined in <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>), giving a human-readable title for the Workspace.</p><h3 id="rfc.section.8.3.3"><a href="#rfc.section.8.3.3">8.3.3</a>&nbsp;The "app:collection" Element</h3><p id="rfc.section.8.3.3.p.1">The "app:collection" element describes a Collection. The app:collection element <em class="bcp14">MUST</em> contain one atom:title element.</p><p id="rfc.section.8.3.3.p.2">The app:collection element <em class="bcp14">MAY</em> contain any number of app:accept elements, indicating the types of representations accepted by the Collection. The order of such elements is not significant.</p><p id="rfc.section.8.3.3.p.3">The app:collection element <em class="bcp14">MAY</em> contain any number of app:categories elements.</p><p id="rfc.section.8.3.3.p.4"> </p><div id="rfc.figure.u.18"></div> <pre class="inline">appCollection =
   element app:collection {
      appCommonAttributes,
      attribute href { atomURI  },
      ( atomTitle
        &amp; appAccept*
        &amp; appCategories*
        &amp; extensionSansTitleElement* )
   }</pre> <h4 id="rfc.section.8.3.3.1"><a href="#rfc.section.8.3.3.1">8.3.3.1</a>&nbsp;The "href" Attribute</h4><p id="rfc.section.8.3.3.1.p.1">The app:collection element <em class="bcp14">MUST</em> contain an "href" attribute, whose value gives the IRI of the Collection.</p><h4 id="rfc.section.8.3.3.2"><a href="#rfc.section.8.3.3.2">8.3.3.2</a>&nbsp;The "atom:title" Element</h4><p id="rfc.section.8.3.3.2.p.1">The "atom:title" element is defined in <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a> and gives a human-readable title for the Collection.</p><h3 id="rfc.section.8.3.4"><a href="#rfc.section.8.3.4">8.3.4</a>&nbsp;<a id="accept" href="#accept">The "app:accept" Element</a></h3><p id="rfc.section.8.3.4.p.1">The content of an "app:accept" element value is a media range as defined in <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>. The media range specifies a type of representation that can be POSTed to a Collection.</p><p id="rfc.section.8.3.4.p.2">The app:accept element is similar to the HTTP Accept request-header <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>. Media type parameters are allowed within app:accept, but app:accept has no notion of preference -- "accept-params" or "q" arguments, as specified in <a href="http://tools.ietf.org/html/rfc2616#section-14.1">Section 14.1</a> of <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a> are not significant.</p><p id="rfc.section.8.3.4.p.3">White space (as defined in <a href="#REC-xml"><cite title="Extensible Markup Language (XML) 1.0 (Fourth Edition)">[REC-xml]</cite></a>) around the app:accept element's media range is insignificant and <em class="bcp14">MUST</em> be ignored.</p><p id="rfc.section.8.3.4.p.4">A value of "application/atom+xml;type=entry" <em class="bcp14">MAY</em> appear in any app:accept list of media ranges and indicates that Atom Entry Documents can be POSTed to the Collection. If no app:accept element is present, clients <em class="bcp14">SHOULD</em> treat this as equivalent to an app:accept element with the content "application/atom+xml;type=entry".</p><p id="rfc.section.8.3.4.p.5">If one app:accept element exists and is empty, clients <em class="bcp14">SHOULD</em> assume that the Collection does not support the creation of new Entries.</p><p id="rfc.section.8.3.4.p.6"> </p><div id="rfc.figure.u.19"></div> <pre class="inline">appAccept =
   element app:accept {
         appCommonAttributes,
         ( text? )
   }</pre> <h3 id="rfc.section.8.3.5"><a href="#rfc.section.8.3.5">8.3.5</a>&nbsp;Usage in Atom Feed Documents</h3><p id="rfc.section.8.3.5.p.1">The app:collection element <em class="bcp14">MAY</em> appear as a child of an atom:feed or atom:source element in an Atom Feed Document. Its content identifies a Collection by which new Entries can be added to appear in the feed. When it appears in an atom:feed or atom:source element, the app:collection element is considered foreign markup as defined in <a href="http://tools.ietf.org/html/rfc4287#section-6">Section 6</a> of <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>.</p><h3 id="rfc.section.8.3.6"><a href="#rfc.section.8.3.6">8.3.6</a>&nbsp;<a id="categories-elem" href="#categories-elem">The "app:categories" Element</a></h3><p id="rfc.section.8.3.6.p.1">The "app:categories" element provides a list of the categories that can be applied to the members of a Collection. See <a href="#appcats" title="The &#34;app:categories&#34; Element">Section&nbsp;7.2.1</a> for the detailed definition of app:categories.</p><p id="rfc.section.8.3.6.p.2">The server <em class="bcp14">MAY</em> reject attempts to create or store members whose categories are not present in its categories list. A Collection that indicates the category set is open <em class="bcp14">SHOULD NOT</em> reject otherwise acceptable members whose categories are not in its categories list. The absence of an app:categories element means that the category handling of the Collection is unspecified. A "fixed" category list that contains zero categories indicates the Collection does not accept category data.</p><h1 id="rfc.section.9"><a href="#rfc.section.9">9.</a>&nbsp;<a id="collection_resource" href="#collection_resource">Creating and Editing Resources</a></h1><h2 id="rfc.section.9.1"><a href="#rfc.section.9.1">9.1</a>&nbsp;<a id="memuri" href="#memuri">Member URIs</a></h2><p id="rfc.section.9.1.p.1">The Member URI allows clients to retrieve, edit, and delete a Member Resource using HTTP's GET, PUT, and DELETE methods. Entry Resources are represented as Atom Entry documents.</p><p id="rfc.section.9.1.p.2">Member URIs appear in two places. They are returned in a Location header after successful Resource creation using POST, as described in <a href="#crwp" title="Creating Resources with POST">Section&nbsp;9.2</a> below. They can also appear in a Collection Feed's Entries, as atom:link elements with a link relation of "edit".</p><p id="rfc.section.9.1.p.3">A Member Entry <em class="bcp14">SHOULD</em> contain such an atom:link element with a link relation of "edit", which indicates the Member URI.</p><h2 id="rfc.section.9.2"><a href="#rfc.section.9.2">9.2</a>&nbsp;<a id="crwp" href="#crwp">Creating Resources with POST</a></h2><p id="rfc.section.9.2.p.1">To add members to a Collection, clients send POST requests to the URI of the Collection.</p><p id="rfc.section.9.2.p.2">Successful member creation is indicated with a 201 ("Created") response code. When the Collection responds with a status code of 201, it <em class="bcp14">SHOULD</em> also return a response body, which <em class="bcp14">MUST</em> be an Atom Entry Document representing the newly created Resource. Since the server is free to alter the POSTed Entry, for example, by changing the content of the atom:id element, returning the Entry can be useful to the client, enabling it to correlate the client and server views of the new Entry.</p><p id="rfc.section.9.2.p.3">When a Member Resource is created, its Member Entry URI <em class="bcp14">MUST</em> be returned in a Location header in the Collection's response.</p><p id="rfc.section.9.2.p.4">If the creation request contained an Atom Entry Document, and the subsequent response from the server contains a Content-Location header that matches the Location header character-for-character, then the client is authorized to interpret the response entity as being a complete representation of the newly created Entry. Without a matching Content-Location header, the client <em class="bcp14">MUST NOT</em> assume the returned entity is a complete representation of the created Resource.</p><p id="rfc.section.9.2.p.5">The request body sent with the POST need not be an Atom Entry. For example, it might be a picture or a movie. Collections <em class="bcp14">MAY</em> return a response with a status code of 415 ("Unsupported Media Type") to indicate that the media type of the POSTed entity is not allowed or supported by the Collection. For a discussion of the issues in creating such content, see <a href="#media-link-entries" title="Media Resources and Media Link Entries">Section&nbsp;9.6</a>.</p><h3 id="rfc.section.9.2.1"><a href="#rfc.section.9.2.1">9.2.1</a>&nbsp;<a id="create-example" href="#create-example">Example</a></h3><p id="rfc.section.9.2.1.p.1">Below, the client sends a POST request containing an Atom Entry representation using the URI of the Collection: </p><div id="rfc.figure.u.20"></div> <pre class="text2">    POST /edit/ HTTP/1.1
    Host: example.org
    User-Agent: Thingio/1.0
    Authorization: Basic ZGFmZnk6c2VjZXJldA==
    Content-Type: application/atom+xml;type=entry
    Content-Length: nnn
    Slug: First Post

    &lt;?xml version="1.0"?&gt;
    &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
      &lt;title&gt;Atom-Powered Robots Run Amok&lt;/title&gt;
      &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;
      &lt;updated&gt;2003-12-13T18:30:02Z&lt;/updated&gt;
      &lt;author&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;/author&gt;
      &lt;content&gt;Some text.&lt;/content&gt;
    &lt;/entry&gt;</pre> <p id="rfc.section.9.2.1.p.2">The server signals a successful creation with a status code of 201. The response includes a Location header indicating the Member Entry URI of the Atom Entry, and a representation of that Entry in the body of the response. </p><div id="rfc.figure.u.21"></div> <pre class="text">    HTTP/1.1 201 Created
    Date: Fri, 7 Oct 2005 17:17:11 GMT
    Content-Length: nnn
    Content-Type: application/atom+xml;type=entry;charset="utf-8"
    Location: http://example.org/edit/first-post.atom
    ETag: "c180de84f991g8"  

    &lt;?xml version="1.0"?&gt;
    &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
      &lt;title&gt;Atom-Powered Robots Run Amok&lt;/title&gt;
      &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;
      &lt;updated&gt;2003-12-13T18:30:02Z&lt;/updated&gt;
      &lt;author&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;/author&gt;
      &lt;content&gt;Some text.&lt;/content&gt;
      &lt;link rel="edit"
          href="http://example.org/edit/first-post.atom"/&gt;
    &lt;/entry&gt;</pre> <p id="rfc.section.9.2.1.p.3">The Entry created and returned by the Collection might not match the Entry POSTed by the client. A server <em class="bcp14">MAY</em> change the values of various elements in the Entry, such as the atom:id, atom:updated, and atom:author values, and <em class="bcp14">MAY</em> choose to remove or add other elements and attributes, or change element content and attribute values.</p><h2 id="rfc.section.9.3"><a href="#rfc.section.9.3">9.3</a>&nbsp;<a id="edit-via-PUT" href="#edit-via-PUT">Editing Resources with PUT</a></h2><p id="rfc.section.9.3.p.1">To edit a Member Resource, a client sends a PUT request to its Member URI, as specified in <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>.</p><p id="rfc.section.9.3.p.2">To avoid unintentional loss of data when editing Member Entries or Media Link Entries, an Atom Protocol client <em class="bcp14">SHOULD</em> preserve all metadata that has not been intentionally modified, including unknown foreign markup as defined in <a href="http://tools.ietf.org/html/rfc4287#section-6">Section 6</a> of <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>.</p><h2 id="rfc.section.9.4"><a href="#rfc.section.9.4">9.4</a>&nbsp;<a id="delete-via-DELETE" href="#delete-via-DELETE">Deleting Resources with DELETE</a></h2><p id="rfc.section.9.4.p.1">To delete a Member Resource, a client sends a DELETE request to its Member URI, as specified in <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>. The deletion of a Media Link Entry <em class="bcp14">SHOULD</em> result in the deletion of the corresponding Media Resource.</p><h2 id="rfc.section.9.5"><a href="#rfc.section.9.5">9.5</a>&nbsp;<a id="etags" href="#etags">Caching and Entity Tags</a></h2><p id="rfc.section.9.5.p.1">Implementers are advised to pay attention to cache controls and to make use of the mechanisms available in HTTP when editing Resources, in particular, entity-tags as outlined in <a href="#NOTE-detect-lost-update"><cite title="Editing the Web: Detecting the Lost Update Problem Using Unreserved Checkout">[NOTE-detect-lost-update]</cite></a>. Clients are not assured to receive the most recent representations of Collection Members using GET if the server is authorizing intermediaries to cache them.</p><h3 id="rfc.section.9.5.1"><a href="#rfc.section.9.5.1">9.5.1</a>&nbsp;<a id="edit-no-lost-update" href="#edit-no-lost-update">Example</a></h3><p id="rfc.section.9.5.1.p.1">Below, the client creates a Member Entry using POST:</p><div id="rfc.figure.u.22"></div> <pre class="text2">    POST /myblog/entries HTTP/1.1
    Host: example.org
    Authorization: Basic ZGFmZnk6c2VjZXJldA==
    Content-Type: application/atom+xml;type=entry
    Content-Length: nnn
    Slug: First Post

    &lt;?xml version="1.0" ?&gt;
    &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
      &lt;title&gt;Atom-Powered Robots Run Amok&lt;/title&gt;
      &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;
      &lt;updated&gt;2007-02-123T17:09:02Z&lt;/updated&gt;
      &lt;author&gt;&lt;name&gt;Captain Lansing&lt;/name&gt;&lt;/author&gt;
      &lt;content&gt;It's something moving... solid metal&lt;/content&gt;
    &lt;/entry&gt;
</pre> <p id="rfc.section.9.5.1.p.3">The server signals a successful creation with a status code of 201, and returns an ETag header in the response. Because, in this case, the server returned a Content-Location header and Location header with the same value, the returned Entry representation can be understood to be a complete representation of the newly created Entry (see <a href="#crwp" title="Creating Resources with POST">Section&nbsp;9.2</a>).</p><div id="rfc.figure.u.23"></div> <pre class="text">    HTTP/1.1 201 Created
    Date: Fri, 23 Feb 2007 21:17:11 GMT
    Content-Length: nnn
    Content-Type: application/atom+xml;type=entry
    Location: http://example.org/edit/first-post.atom
    Content-Location: http://example.org/edit/first-post.atom
    ETag: "e180ee84f0671b1"  

    &lt;?xml version="1.0" ?&gt;
    &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
      &lt;title&gt;Atom-Powered Robots Run Amok&lt;/title&gt;
      &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;
      &lt;updated&gt;2007-02-123T17:09:02Z&lt;/updated&gt;
      &lt;author&gt;&lt;name&gt;Captain Lansing&lt;/name&gt;&lt;/author&gt;
      &lt;content&gt;It's something moving... solid metal&lt;/content&gt;
    &lt;/entry&gt;</pre> <p id="rfc.section.9.5.1.p.5">The client can, if it wishes, use the returned ETag value to later construct a "Conditional GET" as defined in <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>. In this case, prior to editing, the client sends the ETag value for the Member using the If-None-Match header.</p><div id="rfc.figure.u.24"></div> <pre class="text2">    GET /edit/first-post.atom HTTP/1.1
    Host: example.org
    Authorization: Basic ZGFmZnk6c2VjZXJldA==
    If-None-Match: "e180ee84f0671b1"</pre> <p id="rfc.section.9.5.1.p.7">If the Entry has not been modified, the response will be a status code of 304 ("Not Modified"). This allows the client to determine whether it still has the most recent representation of the Entry at the time of editing.</p><div id="rfc.figure.u.25"></div> <pre class="text">    HTTP/1.1 304 Not Modified
    Date: Sat, 24 Feb 2007 13:17:11 GMT </pre> <p id="rfc.section.9.5.1.p.9">After editing, the client can PUT the Entry and send the ETag entity value in an If-Match header, informing the server to accept the entry on the condition that the entity value sent still matches the server's.</p><div id="rfc.figure.u.26"></div> <pre class="text2">    PUT /edit/first-post.atom HTTP/1.1
    Host: example.org
    Authorization: Basic ZGFmZnk6c2VjZXJldA==
    Content-Type: application/atom+xml;type=entry
    Content-Length: nnn
    If-Match: "e180ee84f0671b1" 

    &lt;?xml version="1.0" ?&gt;
    &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
      &lt;title&gt;Atom-Powered Robots Run Amok&lt;/title&gt;
      &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;
      &lt;updated&gt;2007-02-24T16:34:06Z&lt;/updated&gt;
      &lt;author&gt;&lt;name&gt;Captain Lansing&lt;/name&gt;&lt;/author&gt;
      &lt;content&gt;Update: it's a hoax!&lt;/content&gt;
    &lt;/entry&gt;</pre> <p id="rfc.section.9.5.1.p.11">The server however has since received a more recent copy than the client's, and it responds with a status code of 412 ("Precondition Failed").</p><div id="rfc.figure.u.27"></div> <pre class="text">    HTTP/1.1 412 Precondition Failed
    Date: Sat, 24 Feb 2007 16:34:11 GMT</pre> <p id="rfc.section.9.5.1.p.13">This informs the client that the server has a more recent version of the Entry and will not allow the sent entity to be stored.</p><h2 id="rfc.section.9.6"><a href="#rfc.section.9.6">9.6</a>&nbsp;<a id="media-link-entries" href="#media-link-entries">Media Resources and Media Link Entries</a></h2><p id="rfc.section.9.6.p.1">A client can POST Media Resources as well as Entry Resources to a Collection. If a server accepts such a request, then it <em class="bcp14">MUST</em> create two new Resources -- one that corresponds to the entity sent in the request, called the Media Resource, and an associated Member Entry, called the Media Link Entry. Media Link Entries are represented as Atom Entries, and appear in the Collection.</p><p id="rfc.section.9.6.p.2">The Media Link Entry contains the metadata and IRI of the (perhaps non-textual) Media Resource. The Media Link Entry thus makes the metadata about the Media Resource separately available for retrieval and alteration.</p><p id="rfc.section.9.6.p.3">The server can signal the media types it will accept using the app:accept element in the Service Document, as specified in <a href="#accept" title="The &#34;app:accept&#34; Element">Section&nbsp;8.3.4</a>.</p><p id="rfc.section.9.6.p.4">Successful responses to creation requests <em class="bcp14">MUST</em> include the URI of the Media Link Entry in the Location header. The Media Link Entry <em class="bcp14">SHOULD</em> contain an atom:link element with a link relation of "edit-media" that contains the Media Resource IRI. The Media Link Entry <em class="bcp14">MUST</em> have an atom:content element with a "src" attribute. The value of the "src" attribute is an IRI for the newly created Media Resource. It is <em class="bcp14">OPTIONAL</em> that the IRI of the "src" attribute on the atom:content element be the same as the Media Resource IRI. For example, the "src" attribute value might instead be a link into a static cache or content distribution network and not the Media Resource IRI.</p><p id="rfc.section.9.6.p.5">Implementers are asked to note that <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a> specifies that Atom Entries <em class="bcp14">MUST</em> contain an atom:summary element. Thus, upon successful creation of a Media Link Entry, a server <em class="bcp14">MAY</em> choose to populate the atom:summary element (as well as any other mandatory elements such as atom:id, atom:author, and atom:title) with content derived from the POSTed entity or from any other source. A server might not allow a client to modify the server-selected values for these elements.</p><p id="rfc.section.9.6.p.6">For Resource creation, this specification only defines cases where the POST body has an Atom Entry entity declared as an Atom media type ("application/atom+xml"), or a non-Atom entity declared as a non-Atom media type. When a client is POSTing an Atom Entry to a Collection, it may use a media type of either "application/atom+xml" or "application/atom +xml;type=entry". This specification does not specify any request semantics or server behavior in the case where the POSTed media type is "application/atom+xml" but the body is something other than an Atom Entry. In particular, what happens on POSTing an Atom Feed Document to a Collection using the "application/atom+xml" media type is undefined.</p><p id="rfc.section.9.6.p.7">The Atom Protocol does not specify a means to create multiple representations of the same Resource (for example, a PNG and a JPG of the same image) either on creation or editing.</p><h3 id="rfc.section.9.6.1"><a href="#rfc.section.9.6.1">9.6.1</a>&nbsp;<a id="mle-example" href="#mle-example">Examples</a></h3><p id="rfc.section.9.6.1.p.1">Below, the client sends a POST request containing a PNG image to the URI of a Collection that accepts PNG images:</p><p id="rfc.section.9.6.1.p.2"> </p><div id="rfc.figure.u.28"></div> <pre class="text2">    POST /edit/ HTTP/1.1
    Host: media.example.org
    Content-Type: image/png
    Slug: The Beach
    Authorization: Basic ZGFmZnk6c2VjZXJldA==
    Content-Length: nnn

    ...binary data... </pre> <p id="rfc.section.9.6.1.p.3">The server signals a successful creation with a status code of 201. The response includes a Location header indicating the Member URI of the Media Link Entry and a representation of that entry in the body of the response. The Media Link Entry includes a content element with a "src" attribute. It also contains a link with a link relation of "edit-media", specifying the IRI to be used for modifying the Media Resource.</p><p id="rfc.section.9.6.1.p.4"> </p><div id="rfc.figure.u.29"></div> <pre class="text">    HTTP/1.1 201 Created
    Date: Fri, 7 Oct 2005 17:17:11 GMT
    Content-Length: nnn
    Content-Type: application/atom+xml;type=entry;charset="utf-8"
    Location: http://example.org/media/edit/the_beach.atom

    &lt;?xml version="1.0"?&gt;
    &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
      &lt;title&gt;The Beach&lt;/title&gt;
      &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;
      &lt;updated&gt;2005-10-07T17:17:08Z&lt;/updated&gt;
      &lt;author&gt;&lt;name&gt;Daffy&lt;/name&gt;&lt;/author&gt;
      &lt;summary type="text" /&gt;
      &lt;content type="image/png"
         src="http://media.example.org/the_beach.png"/&gt;
      &lt;link rel="edit-media"
         href="http://media.example.org/edit/the_beach.png" /&gt;
      &lt;link rel="edit"
         href="http://example.org/media/edit/the_beach.atom" /&gt;
    &lt;/entry&gt; </pre> <p id="rfc.section.9.6.1.p.5">Later, the client sends a PUT request containing the new PNG using the URI indicated in the Media Link Entry's "edit-media" link: </p><div id="rfc.figure.u.30"></div> <pre class="text2">    PUT /edit/the_beach.png HTTP/1.1
    Host: media.example.org
    Content-Type: image/png
    Authorization: Basic ZGFmZnk6c2VjZXJldA==
    Content-Length: nnn

    ...binary data... </pre> <p id="rfc.section.9.6.1.p.6">The server signals a successful edit with a status code of 200. </p><div id="rfc.figure.u.31"></div> <pre class="text">    HTTP/1.1 200 Ok
    Date: Fri, 8 Oct 2006 17:17:11 GMT
     </pre> <p id="rfc.section.9.6.1.p.7">The client can edit the metadata for the picture. First GET the Media Link Entry:</p><p id="rfc.section.9.6.1.p.8"> </p><div id="rfc.figure.u.32"></div> <pre class="text2">    GET /media/edit/the_beach.atom HTTP/1.1
    Host: example.org
    Authorization: Basic ZGFmZnk6c2VjZXJldA== </pre> <p id="rfc.section.9.6.1.p.9">The Media Link Entry is returned.</p><p id="rfc.section.9.6.1.p.10"> </p><div id="rfc.figure.u.33"></div> <pre class="text">    HTTP/1.1 200 Ok 
    Date: Fri, 7 Oct 2005 17:18:11 GMT
    Content-Length: nnn
    Content-Type: application/atom+xml;type=entry;charset="utf-8"
    ETag: "c181bb840673b5"  

    &lt;?xml version="1.0"?&gt;
    &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
      &lt;title&gt;The Beach&lt;/title&gt;
      &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;
      &lt;updated&gt;2005-10-07T17:17:08Z&lt;/updated&gt;
      &lt;author&gt;&lt;name&gt;Daffy&lt;/name&gt;&lt;/author&gt;
      &lt;summary type="text" /&gt;
      &lt;content type="image/png"
         src="http://media.example.org/the_beach.png"/&gt;
      &lt;link rel="edit-media"
         href="http://media.example.org/edit/the_beach.png" /&gt;
      &lt;link rel="edit"
         href="http://example.org/media/edit/the_beach.atom" /&gt;
    &lt;/entry&gt; </pre> <p id="rfc.section.9.6.1.p.11">The metadata can be updated, in this case to add a summary, and then PUT back to the server.</p><p id="rfc.section.9.6.1.p.12"> </p><div id="rfc.figure.u.34"></div> <pre class="text2">    PUT /media/edit/the_beach.atom HTTP/1.1
    Host: example.org
    Authorization: Basic ZGFmZnk6c2VjZXJldA==
    Content-Type: application/atom+xml;type=entry
    Content-Length: nnn
    If-Match: "c181bb840673b5"  

    &lt;?xml version="1.0"?&gt;
    &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
      &lt;title&gt;The Beach&lt;/title&gt;
      &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;
      &lt;updated&gt;2005-10-07T17:17:08Z&lt;/updated&gt;
      &lt;author&gt;&lt;name&gt;Daffy&lt;/name&gt;&lt;/author&gt;
      &lt;summary type="text"&gt;
          A nice sunset picture over the water.
      &lt;/summary&gt;
      &lt;content type="image/png"
         src="http://media.example.org/the_beach.png"/&gt;
      &lt;link rel="edit-media"
         href="http://media.example.org/edit/the_beach.png" /&gt;
      &lt;link rel="edit"
         href="http://example.org/media/edit/the_beach.atom" /&gt;
    &lt;/entry&gt; </pre> <p id="rfc.section.9.6.1.p.13">The update was successful.</p><p id="rfc.section.9.6.1.p.14"> </p><div id="rfc.figure.u.35"></div> <pre class="text">    HTTP/1.1 200 Ok 
    Date: Fri, 7 Oct 2005 17:19:11 GMT
    Content-Length: 0 
 </pre> <p id="rfc.section.9.6.1.p.15">Multiple Media Resources can be added to the Collection.</p><p id="rfc.section.9.6.1.p.16"> </p><div id="rfc.figure.u.36"></div> <pre class="text2">    POST /edit/ HTTP/1.1
    Host: media.example.org
    Content-Type: image/png
    Slug: The Pier 
    Authorization: Basic ZGFmZnk6c2VjZXJldA==
    Content-Length: nnn

    ...binary data... </pre> <p id="rfc.section.9.6.1.p.17">The Resource is created successfully.</p><p id="rfc.section.9.6.1.p.18"> </p><div id="rfc.figure.u.37"></div> <pre class="text">    HTTP/1.1 201 Created
    Date: Fri, 7 Oct 2005 17:17:11 GMT
    Content-Length: nnn
    Content-Type: application/atom+xml;type=entry;charset="utf-8"
    Location: http://example.org/media/edit/the_pier.atom

    &lt;?xml version="1.0"?&gt;
    &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
      &lt;title&gt;The Pier&lt;/title&gt;
      &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efe6b&lt;/id&gt;
      &lt;updated&gt;2005-10-07T17:26:43Z&lt;/updated&gt;
      &lt;author&gt;&lt;name&gt;Daffy&lt;/name&gt;&lt;/author&gt;
      &lt;summary type="text" /&gt;
      &lt;content type="image/png"
         src="http://media.example.org/the_pier.png"/&gt;
      &lt;link rel="edit-media"
         href="http://media.example.org/edit/the_pier.png" /&gt;
      &lt;link rel="edit"
         href="http://example.org/media/edit/the_pier.atom" /&gt;
    &lt;/entry&gt; </pre> <p id="rfc.section.9.6.1.p.19">The client can now create a new Atom Entry in the blog Entry Collection that references the two newly created Media Resources.</p><p id="rfc.section.9.6.1.p.20"> </p><div id="rfc.figure.u.38"></div> <pre class="text2">    POST /blog/ HTTP/1.1
    Host: example.org
    Content-Type: application/atom+xml;type=entry 
    Slug: A day at the beach 
    Authorization: Basic ZGFmZnk6c2VjZXJldA==
    Content-Length: nnn

    &lt;?xml version="1.0"?&gt;
    &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
      &lt;title&gt;A fun day at the beach&lt;/title&gt;
      &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6b&lt;/id&gt;
      &lt;updated&gt;2005-10-07T17:40:02Z&lt;/updated&gt;
      &lt;author&gt;&lt;name&gt;Daffy&lt;/name&gt;&lt;/author&gt;
      &lt;content type="xhtml"&gt;
          &lt;xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml"&gt;
              &lt;xhtml:p&gt;We had a good day at the beach.
                  &lt;xhtml:img alt="the beach"
                      src="http://media.example.org/the_beach.png"/&gt;
              &lt;/xhtml:p&gt;
              &lt;xhtml:p&gt;Later we walked down to the pier.
                  &lt;xhtml:img  alt="the pier"
                      src="http://media.example.org/the_pier.png"/&gt;
              &lt;/xhtml:p&gt;
          &lt;/xhtml:div&gt;
      &lt;/content&gt;
    &lt;/entry&gt; </pre> <p id="rfc.section.9.6.1.p.21">The Resource is created successfully.</p><p id="rfc.section.9.6.1.p.22"> </p><div id="rfc.figure.u.39"></div> <pre class="text">    HTTP/1.1 200 Ok 
    Date: Fri, 7 Oct 2005 17:20:11 GMT
    Content-Length: nnn
    Content-Type: application/atom+xml;type=entry;charset="utf-8"
    Location: http://example.org/blog/atom/a-day-at-the-beach.atom

    &lt;?xml version="1.0"?&gt;
    &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
      &lt;title&gt;A fun day at the beach&lt;/title&gt;
      &lt;id&gt;http://example.org/blog/a-day-at-the-beach.xhtml&lt;/id&gt;
      &lt;updated&gt;2005-10-07T17:43:07Z&lt;/updated&gt;
      &lt;author&gt;&lt;name&gt;Daffy&lt;/name&gt;&lt;/author&gt;
      &lt;content type="xhtml"&gt;
          &lt;xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml"&gt;
              &lt;xhtml:p&gt;We had a good day at the beach.
                  &lt;xhtml:img alt="the beach"
                     src="http://media.example.org/the_beach.png"/&gt;
              &lt;/xhtml:p&gt;
              &lt;xhtml:p&gt;Later we walked down to the pier.
                  &lt;xhtml:img alt="the pier"
                     src="http://media.example.org/the_pier.png"/&gt;
              &lt;/xhtml:p&gt;
          &lt;/xhtml:div&gt;
      &lt;/content&gt;
      &lt;link rel="edit"
        href="http://example.org/blog/edit/a-day-at-the-beach.atom"/&gt;
      &lt;link rel="alternate" type="text/html"
        href="http://example.org/blog/a-day-at-the-beach.html"/&gt;
    &lt;/entry&gt; </pre> <p id="rfc.section.9.6.1.p.23">Note that the returned Entry contains a link with a relation of "alternate" that points to the associated HTML page that was created -- this is not required by this specification, but is included to show the kinds of changes a server can make to an Entry.</p><h2 id="rfc.section.9.7"><a href="#rfc.section.9.7">9.7</a>&nbsp;The Slug Header</h2><p id="rfc.section.9.7.p.1">Slug is an HTTP entity-header whose presence in a POST to a Collection constitutes a request by the client to use the header's value as part of any URIs that would normally be used to retrieve the to-be-created Entry or Media Resources.</p><p id="rfc.section.9.7.p.2">Servers <em class="bcp14">MAY</em> use the value of the Slug header when creating the Member URI of the newly created Resource, for instance, by using some or all of the words in the value for the last URI segment. Servers <em class="bcp14">MAY</em> also use the value when creating the atom:id, or as the title of a Media Link Entry (see <a href="#media-link-entries" title="Media Resources and Media Link Entries">Section&nbsp;9.6</a>).</p><p id="rfc.section.9.7.p.3">Servers <em class="bcp14">MAY</em> choose to ignore the Slug entity-header. Servers <em class="bcp14">MAY</em> alter the header value before using it. For instance, a server might filter out some characters or replace accented letters with non-accented ones, replace spaces with underscores, change case, and so on.</p><h3 id="rfc.section.9.7.1"><a href="#rfc.section.9.7.1">9.7.1</a>&nbsp;Slug Header Syntax</h3><p id="rfc.section.9.7.1.p.1">The syntax of the Slug header is defined using the augmented BNF syntax defined in <a href="http://tools.ietf.org/html/rfc2616#section-2.1">Section 2.1</a> of <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>:</p><div id="rfc.figure.u.40"></div> <pre class="inline">    LWS      = &lt;defined in <a href="http://tools.ietf.org/html/rfc2616#section-2.2">Section 2.2</a> of <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>&gt;
    slugtext = %x20-7E | LWS
    Slug     = "Slug" ":" *slugtext
</pre> <p id="rfc.section.9.7.1.p.3">The field value is the percent-encoded value of the UTF-8 encoding of the character sequence to be included (see <a href="http://tools.ietf.org/html/rfc3986#section-2.1">Section 2.1</a> of <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a> for the definition of percent encoding, and <a href="#RFC3629"><cite title="UTF-8, a transformation format of ISO 10646">[RFC3629]</cite></a> for the definition of the UTF-8 encoding).</p><p id="rfc.section.9.7.1.p.4">Implementation note: to produce the field value from a character sequence, first encode it using the UTF-8 encoding, then encode all octets outside the ranges %20-24 and %26-7E using percent encoding (%25 is the ASCII encoding of "%", thus it needs to be escaped). To consume the field value, first reverse the percent encoding, then run the resulting octet sequence through a UTF-8 decoding process.</p><h3 id="rfc.section.9.7.2"><a href="#rfc.section.9.7.2">9.7.2</a>&nbsp;<a id="title-header-example" href="#title-header-example">Example</a></h3><p id="rfc.section.9.7.2.p.1">Here is an example of the Slug header that uses percent-encoding to represent the Unicode character U+00E8 (LATIN SMALL LETTER E WITH GRAVE):</p><p id="rfc.section.9.7.2.p.2"> </p><div id="rfc.figure.u.41"></div> <pre class="text2">    POST /myblog/entries HTTP/1.1
    Host: example.org
    Content-Type: image/png
    Slug: The Beach at S%C3%A8te
    Authorization: Basic ZGFmZnk6c2VjZXJldA==
    Content-Length: nnn

    ...binary data... </pre> <p id="rfc.section.9.7.2.p.3">See <a href="#create-example" title="Example">Section&nbsp;9.2.1</a> for an example of the Slug header applied to the creation of an Entry Resource.</p><h1 id="rfc.section.10"><a href="#rfc.section.10">10.</a>&nbsp;<a id="listing-collections" href="#listing-collections">Listing Collections</a></h1><p id="rfc.section.10.p.1">Collection Resources <em class="bcp14">MUST</em> provide representations in the form of Atom Feed Documents whose Entries contain the IRIs of the Members in the Collection. No distinction is made between Collection Feeds and other kinds of Feeds -- a Feed might act both as a 'public' feed for subscription purposes and as a Collection Feed.</p><p id="rfc.section.10.p.2">Each Entry in the Feed Document <em class="bcp14">SHOULD</em> have an atom:link element with a relation of "edit" (see <a href="#new-link-relation" title="The &#34;edit&#34; Link Relation">Section&nbsp;11.1</a>).</p><p id="rfc.section.10.p.3">The Entries in the returned Atom Feed <em class="bcp14">SHOULD</em> be ordered by their "app:edited" property, with the most recently edited Entries coming first in the document order. The app:edited value is not equivalent to the HTTP Last-Modified header and cannot be used to determine the freshness of cached responses.</p><p id="rfc.section.10.p.4">Clients <em class="bcp14">MUST NOT</em> assume that an Atom Entry returned in the Feed is a full representation of an Entry Resource and <em class="bcp14">SHOULD</em> perform a GET on the URI of the Member Entry before editing it. See <a href="#etags" title="Caching and Entity Tags">Section&nbsp;9.5</a> for a discussion on the implications of cache control directives when obtaining entries.</p><h2 id="rfc.section.10.1"><a href="#rfc.section.10.1">10.1</a>&nbsp;<a id="partial-lists" href="#partial-lists">Collection Partial Lists</a></h2><p id="rfc.section.10.1.p.1">Collections can contain large numbers of Resources. A client such as a web spider or web browser might be overwhelmed if the response to a GET contained every Entry in a Collection -- in turn the server might also waste bandwidth and processing time on generating a response that cannot be handled. For this reason, servers <em class="bcp14">MAY</em> respond to Collection GET requests with a Feed Document containing a partial list of the Collection's members, and a link to the next partial list feed, if it exists. The first such partial list returned <em class="bcp14">MUST</em> contain the most recently edited member Resources and <em class="bcp14">MUST</em> have an atom:link with a "next" relation whose "href" value is the URI of the next partial list of the Collection. This next partial list will contain the next most recently edited set of Member Resources (and an atom:link to the following partial list if it exists).</p><p id="rfc.section.10.1.p.2">In addition to the "next" relation, partial list feeds <em class="bcp14">MAY</em> contain link elements with "rel" attribute values of "previous", "first", and "last", that can be used to navigate through the complete set of entries in the Collection.</p><p id="rfc.section.10.1.p.3">For instance, suppose a client is supplied the URI "http://example.org/entries/go" of a Collection of Member Entries, where the server as a matter of policy avoids generating Feed Documents containing more than 10 Entries. The Atom Feed Document for the Collection will then represent the first partial list of a set of 10 linked Feed Documents. The "first" relation references the initial Feed Document in the set and the "last" relation references the final Feed Document in the set. Within each document, the "previous" and "next" link relations reference the preceding and subsequent documents. </p><div id="rfc.figure.u.42"></div> <pre class="text">  &lt;feed xmlns="http://www.w3.org/2005/Atom"&gt;
    &lt;link rel="first"
          href="http://example.org/entries/go" /&gt;
    &lt;link rel="next"
          href="http://example.org/entries/2" /&gt;
    &lt;link rel="last"
          href="http://example.org/entries/10" /&gt;
    ...
  &lt;/feed&gt;
</pre> <p id="rfc.section.10.1.p.4">The "previous" and "next" link elements for the partial list feed located at "http://example.org/entries/2" would look like this: </p><div id="rfc.figure.u.43"></div> <pre class="text">  &lt;feed xmlns="http://www.w3.org/2005/Atom"&gt;
    &lt;link rel="first"
          href="http://example.org/entries/go" /&gt;
    &lt;link rel="previous"
          href="http://example.org/entries/go" /&gt;
    &lt;link rel="next"
          href="http://example.org/entries/3" /&gt;
    &lt;link rel="last"
          href="http://example.org/entries/10" /&gt;
    ...
  &lt;/feed&gt;
</pre> <h2 id="rfc.section.10.2"><a href="#rfc.section.10.2">10.2</a>&nbsp;The "app:edited" Element</h2><p id="rfc.section.10.2.p.1">The "app:edited" element is a Date construct (as defined by <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>), whose content indicates the last time an Entry was edited. If the entry has not been edited yet, the content indicates the time it was created. Atom Entry elements in Collection Documents <em class="bcp14">SHOULD</em> contain one app:edited element, and <em class="bcp14">MUST NOT</em> contain more than one.</p><div id="rfc.figure.u.44"></div> <pre class="inline">appEdited = element app:edited ( atomDateConstruct )
</pre> <p id="rfc.section.10.2.p.3">The server <em class="bcp14">SHOULD</em> change the value of this element every time an Entry Resource or an associated Media Resource has been edited.</p><h1 id="rfc.section.11"><a href="#rfc.section.11">11.</a>&nbsp;<a id="atom-entry-extensions" href="#atom-entry-extensions">Atom Format Link Relation Extensions</a></h1><h2 id="rfc.section.11.1"><a href="#rfc.section.11.1">11.1</a>&nbsp;<a id="new-link-relation" href="#new-link-relation">The "edit" Link Relation</a></h2><p id="rfc.section.11.1.p.1">This specification adds the value "edit" to the Atom Registry of Link Relations (see <a href="http://tools.ietf.org/html/rfc4287#section-7.1">Section 7.1</a> of <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>). The value of "edit" specifies that the value of the href attribute is the IRI of an editable Member Entry. When appearing within an atom:entry, the href IRI can be used to retrieve, update, and delete the Resource represented by that Entry. An atom:entry <em class="bcp14">MUST NOT</em> contain more than one "edit" link relation.</p><h2 id="rfc.section.11.2"><a href="#rfc.section.11.2">11.2</a>&nbsp;<a id="new-media-link-relation" href="#new-media-link-relation">The "edit-media" Link Relation</a></h2><p id="rfc.section.11.2.p.1">This specification adds the value "edit-media" to the Atom Registry of Link Relations (see <a href="http://tools.ietf.org/html/rfc4287#section-7.1">Section 7.1</a> of <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>). When appearing within an atom:entry, the value of the href attribute is an IRI that can be used to modify a Media Resource associated with that Entry.</p><p id="rfc.section.11.2.p.2">An atom:entry element <em class="bcp14">MAY</em> contain zero or more "edit-media" link relations. An atom:entry <em class="bcp14">MUST NOT</em> contain more than one atom:link element with a "rel" attribute value of "edit-media" that has the same "type" and "hreflang" attribute values. All "edit-media" link relations in the same Entry reference the same Resource. If a client encounters multiple "edit-media" link relations in an Entry then it <em class="bcp14">SHOULD</em> choose a link based on the client preferences for "type" and "hreflang". If a client encounters multiple "edit-media" link relations in an Entry and has no preference based on the "type" and "hreflang" attributes then the client <em class="bcp14">SHOULD</em> pick the first "edit-media" link relation in document order.</p><h1 id="rfc.section.12"><a href="#rfc.section.12">12.</a>&nbsp;<a id="atom-format-type-parameter" href="#atom-format-type-parameter">The Atom Format Type Parameter</a></h1><p id="rfc.section.12.p.1">The Atom Syndication Format <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a> defines the "application/atom+xml" media type to identify both Atom Feed and Atom Entry Documents. Implementation experience has demonstrated that Atom Feed and Entry Documents can have different processing models and that there are situations where they need to be differentiated. This specification defines a "type" parameter used to differentiate the two types of Atom documents.</p><h2 id="rfc.section.12.1"><a href="#rfc.section.12.1">12.1</a>&nbsp;<a id="type-parameter-defn" href="#type-parameter-defn">The "type" parameter</a></h2><p id="rfc.section.12.1.p.1">This specification defines a new "type" parameter for use with the "application/atom+xml" media type. The "type" parameter has a value of "entry" or "feed".</p><p id="rfc.section.12.1.p.2">Neither the parameter name nor its value are case sensitive.</p><p id="rfc.section.12.1.p.3">The value "entry" indicates that the media type identifies an Atom Entry Document. The root element of the document <em class="bcp14">MUST</em> be atom:entry.</p><p id="rfc.section.12.1.p.4">The value "feed" indicates that the media type identifies an Atom Feed Document. The root element of the document <em class="bcp14">MUST</em> be atom:feed.</p><p id="rfc.section.12.1.p.5">If not specified, the type is assumed to be unspecified, requiring Atom processors to examine the root element to determine the type of Atom document.</p><h3 id="rfc.section.12.1.1"><a href="#rfc.section.12.1.1">12.1.1</a>&nbsp;<a id="type-parameter-conf" href="#type-parameter-conf">Conformance</a></h3><p id="rfc.section.12.1.1.p.1">New specifications <em class="bcp14">MAY</em> require that the "type" parameter be used to identify the Atom Document type. Producers of Atom Entry Documents <em class="bcp14">SHOULD</em> use the "type" parameter regardless of whether or not it is mandatory. Producers of Atom Feed Documents <em class="bcp14">MAY</em> use the parameter.</p><p id="rfc.section.12.1.1.p.2">Atom processors that do not recognize the "type" parameter <em class="bcp14">MUST</em> ignore its value and examine the root element to determine the document type.</p><p id="rfc.section.12.1.1.p.3">Atom processors that do recognize the "type" parameter <em class="bcp14">SHOULD</em> detect and report inconsistencies between the parameter's value and the actual type of the document's root element.</p><h1 id="rfc.section.13"><a href="#rfc.section.13">13.</a>&nbsp;<a id="pub-control" href="#pub-control">Atom Publishing Controls</a></h1><p id="rfc.section.13.p.1">This specification defines an Atom Format Structured Extension, as defined in <a href="http://tools.ietf.org/html/rfc4287#section-6">Section 6</a> of <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>, for publishing control within the "http://www.w3.org/2007/app" namespace.</p><h2 id="rfc.section.13.1"><a href="#rfc.section.13.1">13.1</a>&nbsp;The "app:control" Element</h2><div id="rfc.figure.u.45"></div> <pre class="inline">namespace app = "http://www.w3.org/2007/app"

 pubControl =
    element app:control {
    atomCommonAttributes,
    pubDraft?
    &amp; extensionElement
 }

 pubDraft =
   element app:draft { "yes" | "no" }</pre> <p id="rfc.section.13.1.p.2">The "app:control" element <em class="bcp14">MAY</em> appear as a child of an atom:entry that is being created or updated via the Atom Publishing Protocol. The app:control element <em class="bcp14">MUST</em> appear only once in an Entry. The app:control element is considered foreign markup as defined in <a href="http://tools.ietf.org/html/rfc4287#section-6">Section 6</a> of <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>.</p><p id="rfc.section.13.1.p.3">The app:control element and its child elements <em class="bcp14">MAY</em> be included in Atom Feed or Entry Documents.</p><p id="rfc.section.13.1.p.4">The app:control element can contain an "app:draft" element as defined below, and it can contain extension elements as defined in <a href="http://tools.ietf.org/html/rfc4287#section-6">Section 6</a> of <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>.</p><h3 id="rfc.section.13.1.1"><a href="#rfc.section.13.1.1">13.1.1</a>&nbsp;The "app:draft" Element</h3><p id="rfc.section.13.1.1.p.1">The inclusion of the "app:draft" element represents a request by the client to control the visibility of a Member Resource. The app:draft element <em class="bcp14">MAY</em> be ignored by the server.</p><p id="rfc.section.13.1.1.p.2">The number of app:draft elements in app:control <em class="bcp14">MUST</em> be zero or one. The content of an app:draft element <em class="bcp14">MUST</em> be one of "yes" or "no". If the element contains "no", this indicates a client request that the Member Resource be made publicly visible. If the app:draft element is not present, then servers that support the extension <em class="bcp14">MUST</em> behave as though an app:draft element containing "no" was sent.</p><h1 id="rfc.section.14"><a href="#rfc.section.14">14.</a>&nbsp;Securing the Atom Publishing Protocol</h1><p id="rfc.section.14.p.1">The Atom Publishing Protocol is based on HTTP. Authentication requirements for HTTP are covered in <a href="http://tools.ietf.org/html/rfc2616#section-11">Section 11</a> of <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>.</p><p id="rfc.section.14.p.2">The use of authentication mechanisms to prevent POSTing or editing by unknown or unauthorized clients is <em class="bcp14">RECOMMENDED</em> but not required. When authentication is not used, clients and servers are vulnerable to trivial spoofing, denial-of-service, and defacement attacks. However, in some contexts, this is an acceptable risk.</p><p id="rfc.section.14.p.3">The type of authentication deployed is a local decision made by the server operator. Clients are likely to face authentication schemes that vary across server deployments. At a minimum, client and server implementations <em class="bcp14">MUST</em> be capable of being configured to use HTTP Basic Authentication <a href="#RFC2617"><cite title="HTTP Authentication: Basic and Digest Access Authentication">[RFC2617]</cite></a> in conjunction with a connection made with TLS 1.0 <a href="#RFC2246"><cite title="The TLS Protocol Version 1.0">[RFC2246]</cite></a> or a subsequent standards-track version of TLS (such as <a href="#RFC4346"><cite title="The Transport Layer Security (TLS) Protocol Version 1.1">[RFC4346]</cite></a>), supporting the conventions for using HTTP over TLS described in <a href="#RFC2818"><cite title="HTTP Over TLS">[RFC2818]</cite></a>.</p><p id="rfc.section.14.p.4">The choice of authentication mechanism will impact interoperability. The minimum level of security referenced above (Basic Authentication with TLS) is considered good practice for Internet applications at the time of publication of this specification and sufficient for establishing a baseline for interoperability. Implementers are encouraged to investigate and use alternative mechanisms regarded as equivalently good or better at the time of deployment. It is <em class="bcp14">RECOMMENDED</em> that clients be implemented in such a way that new authentication schemes can be deployed.</p><p id="rfc.section.14.p.5">Because this protocol uses HTTP response status codes as the primary means of reporting the result of a request, servers are advised to respond to unauthorized or unauthenticated requests using an appropriate 4xx HTTP response code (e.g., 401 "Unauthorized" or 403 "Forbidden") in accordance with <a href="#RFC2617"><cite title="HTTP Authentication: Basic and Digest Access Authentication">[RFC2617]</cite></a>.</p><h1 id="rfc.section.15"><a href="#rfc.section.15">15.</a>&nbsp;Security Considerations</h1><p id="rfc.section.15.p.1">The Atom Publishing Protocol is based on HTTP and thus subject to the security considerations found in <a href="http://tools.ietf.org/html/rfc2616#section-15">Section 15</a> of <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>.</p><p id="rfc.section.15.p.2">The threats listed in this section apply to many protocols that run under HTTP. The Atompub Working Group decided that the protection afforded by running authenticated HTTP under TLS (as described in Section 14) was sufficient to mitigate many of the problems presented by the attacks listed in this section.</p><h2 id="rfc.section.15.1"><a href="#rfc.section.15.1">15.1</a>&nbsp;Denial of Service</h2><p id="rfc.section.15.1.p.1">Atom Publishing Protocol server implementations need to take adequate precautions to ensure malicious clients cannot consume excessive server resources (CPU, memory, disk, etc.).</p><h2 id="rfc.section.15.2"><a href="#rfc.section.15.2">15.2</a>&nbsp;Replay Attacks</h2><p id="rfc.section.15.2.p.1">Atom Publishing Protocol server implementations are susceptible to replay attacks. Specifically, this specification does not define a means of detecting duplicate requests. Accidentally sent duplicate requests are indistinguishable from intentional and malicious replay attacks.</p><h2 id="rfc.section.15.3"><a href="#rfc.section.15.3">15.3</a>&nbsp;Spoofing Attacks</h2><p id="rfc.section.15.3.p.1">Atom Publishing Protocol implementations are susceptible to a variety of spoofing attacks. Malicious clients might send Atom Entries containing inaccurate information anywhere in the document.</p><h2 id="rfc.section.15.4"><a href="#rfc.section.15.4">15.4</a>&nbsp;Linked Resources</h2><p id="rfc.section.15.4.p.1">Atom Feed and Entry Documents can contain XML External Entities as defined in <a href="http://www.w3.org/TR/2006/REC-xml-20060816#sec-external-ent">Section 4.2.2</a> of <a href="#REC-xml"><cite title="Extensible Markup Language (XML) 1.0 (Fourth Edition)">[REC-xml]</cite></a>. Atom implementations are not required to load external entities. External entities are subject to the same security concerns as any network operation and can alter the semantics of an Atom document. The same issues exist for Resources linked to by Atom elements such as atom:link and atom:content.</p><h2 id="rfc.section.15.5"><a href="#rfc.section.15.5">15.5</a>&nbsp;Digital Signatures and Encryption</h2><p id="rfc.section.15.5.p.1">Atom Entry and Feed Documents can contain XML Digital Signatures <a href="#REC-xmldsig-core"><cite title="XML-Signature Syntax and Processing">[REC-xmldsig-core]</cite></a> and can be encrypted using XML Encryption <a href="#REC-xmlenc-core"><cite title="XML Encryption Syntax and Processing">[REC-xmlenc-core]</cite></a> as specified in <a href="http://tools.ietf.org/html/rfc4287#section-5">Section 5</a> of <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>. Handling of signatures and encrypted elements in Atom documents is discussed in Sections <a href="http://tools.ietf.org/html/rfc4287#section-5">5</a> and <a href="http://tools.ietf.org/html/rfc4287#section-6.3">6.3</a> of <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>.</p><p id="rfc.section.15.5.p.2">Neither servers nor clients are under any obligation to support encryption and digital signature of Entries or Feeds, although it is certainly possible that in some installations, clients or servers might require signing or encrypting of the documents exchanged in the Atom Protocol.</p><p id="rfc.section.15.5.p.3">Because servers are allowed (and in some cases, expected) to modify the contents of an Entry Document before publishing it, signatures within an entry are only likely to be useful to the server to which the entry is being sent. Clients cannot assume that the signature will be valid when viewed by a third party, or even that the server will publish the client's signature.</p><p id="rfc.section.15.5.p.4">A server is allowed to strip client-applied signatures, to strip client-applied signatures and then re-sign with its own public key, and to oversign an entry with its own public key. The meaning to a third party of a signature applied by a server is the same as a signature from anyone, as described in <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>. It is <em class="bcp14">RECOMMENDED</em> that a server that is aware that it has changed any part of an Entry Document that was signed by the client should strip that signature before publishing the entry in order to prevent third parties from trying to interpret a signature that cannot be validated.</p><h2 id="rfc.section.15.6"><a href="#rfc.section.15.6">15.6</a>&nbsp;URIs and IRIs</h2><p id="rfc.section.15.6.p.1">Atom Publishing Protocol implementations handle URIs and IRIs. See <a href="http://tools.ietf.org/html/rfc3986#section-7">Section 7</a> of <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a> and <a href="http://tools.ietf.org/html/rfc3987#section-8">Section 8</a> of <a href="#RFC3987"><cite title="Internationalized Resource Identifiers (IRIs)">[RFC3987]</cite></a> for security considerations related to their handling and use.</p><p id="rfc.section.15.6.p.2">The Atom Publishing Protocol leaves the server in control of minting URIs. The use of any client-supplied data for creating new URIs is subject to the same concerns as described in the next section.</p><h2 id="rfc.section.15.7"><a href="#rfc.section.15.7">15.7</a>&nbsp;Code Injection and Cross Site Scripting</h2><p id="rfc.section.15.7.p.1">Atom Feed and Entry Documents can contain a broad range of content types including code that might be executable in some contexts. Malicious clients could attempt to attack servers or other clients by injecting code into a Collection Document's Entry or Media Resources.</p><p id="rfc.section.15.7.p.2">Server implementations are strongly encouraged to verify that client-supplied content is safe prior to accepting, processing, or publishing it. In the case of HTML, experience indicates that verification based on a white list of acceptable content is more effective than a black list of forbidden content.</p><p id="rfc.section.15.7.p.3">Additional information about XHTML and HTML content safety can be found in <a href="http://tools.ietf.org/html/rfc4287#section-8.1">Section 8.1</a> of <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>.</p><h1 id="rfc.section.16"><a href="#rfc.section.16">16.</a>&nbsp;<a id="iana" href="#iana">IANA Considerations</a></h1><p id="rfc.section.16.p.1">This specification uses two new media types that conform to the registry mechanism described in <a href="#RFC4288"><cite title="Media Type Specifications and Registration Procedures">[RFC4288]</cite></a>, a new message header that conforms to the registry mechanism described in <a href="#RFC3864"><cite title="Registration Procedures for Message Header Fields">[RFC3864]</cite></a>, and two new link relations that conform to the registry mechanism described in <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>.</p><h2 id="rfc.section.16.1"><a href="#rfc.section.16.1">16.1</a>&nbsp;<a id="iana-atomcat" href="#iana-atomcat">Content-Type Registration for 'application/atomcat+xml'</a></h2><p id="rfc.section.16.1.p.1">An Atom Publishing Protocol Category Document, when serialized as XML 1.0, can be identified with the following media type:</p><p id="rfc.section.16.1.p.2"> </p><dl><dt>MIME media type name:</dt><dd>application</dd><dt>MIME subtype name:</dt><dd>atomcat+xml</dd><dt>Required parameters:</dt><dd>None.</dd><dt>Optional parameters:</dt><dd> <dl><dt>"charset":</dt><dd>This parameter has identical semantics to the charset parameter of the "application/xml" media type as specified in <a href="#RFC3023"><cite title="XML Media Types">[RFC3023]</cite></a>.</dd></dl> </dd><dt>Encoding considerations:</dt><dd>Identical to those of "application/xml" as described in <a href="#RFC3023"><cite title="XML Media Types">[RFC3023]</cite></a>, <a href="http://tools.ietf.org/html/rfc3023#section-3.2">Section 3.2</a>.</dd><dt>Security considerations:</dt><dd>As defined in RFC 5023.</dd><dd>In addition, as this media type uses the "+xml" convention, it shares the same security considerations as described in <a href="#RFC3023"><cite title="XML Media Types">[RFC3023]</cite></a>, <a href="http://tools.ietf.org/html/rfc3023#section-10">Section 10</a>.</dd><dt>Interoperability considerations:</dt><dd>There are no known interoperability issues.</dd><dt>Published specification:</dt><dd>RFC 5023.</dd><dt>Applications that use this media type:</dt><dd>No known applications currently use this media type.</dd></dl><p id="rfc.section.16.1.p.3">Additional information:</p><p id="rfc.section.16.1.p.4"> </p><dl><dt>Magic number(s):</dt><dd>As specified for "application/xml" in <a href="#RFC3023"><cite title="XML Media Types">[RFC3023]</cite></a>, <a href="http://tools.ietf.org/html/rfc3023#section-3.2">Section 3.2</a>.</dd><dt>File extension:</dt><dd>.atomcat</dd><dt>Fragment identifiers:</dt><dd>As specified for "application/xml" in <a href="#RFC3023"><cite title="XML Media Types">[RFC3023]</cite></a>, <a href="http://tools.ietf.org/html/rfc3023#section-5">Section 5</a>.</dd><dt>Base URI:</dt><dd>As specified in <a href="#RFC3023"><cite title="XML Media Types">[RFC3023]</cite></a>, <a href="http://tools.ietf.org/html/rfc3023#section-6">Section 6</a>.</dd><dt>Macintosh file type code:</dt><dd>TEXT</dd><dt>Person &amp; email address to contact for further information:</dt><dd>Joe Gregorio &lt;joe@bitworking.org&gt;</dd><dt>Intended usage:</dt><dd>COMMON</dd><dt>Author/Change controller:</dt><dd>IETF (iesg@ietf.org) Internet Engineering Task Force</dd></dl><h2 id="rfc.section.16.2"><a href="#rfc.section.16.2">16.2</a>&nbsp;<a id="iana-atomsvc" href="#iana-atomsvc">Content-Type Registration for 'application/atomsvc+xml'</a></h2><p id="rfc.section.16.2.p.1">An Atom Publishing Protocol Service Document, when serialized as XML 1.0, can be identified with the following media type:</p><p id="rfc.section.16.2.p.2"> </p><dl><dt>MIME media type name:</dt><dd>application</dd><dt>MIME subtype name:</dt><dd>atomsvc+xml</dd><dt>Required parameters:</dt><dd>None.</dd><dt>Optional parameters:</dt><dd> <dl><dt>"charset":</dt><dd>This parameter has identical semantics to the charset parameter of the "application/xml" media type as specified in <a href="#RFC3023"><cite title="XML Media Types">[RFC3023]</cite></a>.</dd></dl> </dd><dt>Encoding considerations:</dt><dd>Identical to those of "application/xml" as described in <a href="#RFC3023"><cite title="XML Media Types">[RFC3023]</cite></a>, <a href="http://tools.ietf.org/html/rfc3023#section-3.2">Section 3.2</a>.</dd><dt>Security considerations:</dt><dd>As defined in RFC 5023.</dd><dd>In addition, as this media type uses the "+xml" convention, it shares the same security considerations as described in <a href="#RFC3023"><cite title="XML Media Types">[RFC3023]</cite></a>, <a href="http://tools.ietf.org/html/rfc3023#section-10">Section 10</a>.</dd><dt>Interoperability considerations:</dt><dd>There are no known interoperability issues.</dd><dt>Published specification:</dt><dd>RFC 5023.</dd><dt>Applications that use this media type:</dt><dd>No known applications currently use this media type.</dd></dl><p id="rfc.section.16.2.p.3">Additional information:</p><p id="rfc.section.16.2.p.4"> </p><dl><dt>Magic number(s):</dt><dd>As specified for "application/xml" in <a href="#RFC3023"><cite title="XML Media Types">[RFC3023]</cite></a>, <a href="http://tools.ietf.org/html/rfc3023#section-3.2">Section 3.2</a>.</dd><dt>File extension:</dt><dd>.atomsvc</dd><dt>Fragment identifiers:</dt><dd>As specified for "application/xml" in <a href="#RFC3023"><cite title="XML Media Types">[RFC3023]</cite></a>, <a href="http://tools.ietf.org/html/rfc3023#section-5">Section 5</a>.</dd><dt>Base URI:</dt><dd>As specified in <a href="#RFC3023"><cite title="XML Media Types">[RFC3023]</cite></a>, <a href="http://tools.ietf.org/html/rfc3023#section-6">Section 6</a>.</dd><dt>Macintosh file type code:</dt><dd>TEXT</dd><dt>Person and email address to contact for further information:</dt><dd>Joe Gregorio &lt;joe@bitworking.org&gt;</dd><dt>Intended usage:</dt><dd>COMMON</dd><dt>Author/Change controller:</dt><dd>IETF (iesg@ietf.org) Internet Engineering Task Force</dd></dl><h2 id="rfc.section.16.3"><a href="#rfc.section.16.3">16.3</a>&nbsp;<a id="iana-slug" href="#iana-slug">Header Field Registration for 'SLUG'</a></h2><p id="rfc.section.16.3.p.1"> </p><dl><dt>Header field name:</dt><dd>SLUG</dd><dt>Applicable protocol:</dt><dd>http <a href="#RFC2616"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a></dd><dt>Status:</dt><dd>standard.</dd><dt>Author/Change controller:</dt><dd>IETF (iesg@ietf.org) Internet Engineering Task Force</dd><dt>Specification document(s):</dt><dd>RFC 5023.</dd><dt>Related information:</dt><dd>None.</dd></dl><h2 id="rfc.section.16.4"><a href="#rfc.section.16.4">16.4</a>&nbsp;<a id="link-rel-edit-reg" href="#link-rel-edit-reg">The Link Relation Registration "edit"</a></h2><p id="rfc.section.16.4.p.1"> </p><dl><dt>Attribute Value:</dt><dd>edit</dd><dt>Description:</dt><dd>An IRI of an editable Member Entry. When appearing within an atom:entry, the href IRI can be used to retrieve, update, and delete the Resource represented by that Entry.</dd><dt>Expected display characteristics:</dt><dd>Undefined; this relation can be used for background processing or to provide extended functionality without displaying its value.</dd><dt>Security considerations:</dt><dd>Automated agents should take care when this relation crosses administrative domains (e.g., the URI has a different authority than the current document).</dd></dl><h2 id="rfc.section.16.5"><a href="#rfc.section.16.5">16.5</a>&nbsp;<a id="link-rel-edit-media-reg" href="#link-rel-edit-media-reg">The Link Relation Registration "edit-media"</a></h2><p id="rfc.section.16.5.p.1"> </p><dl><dt>Attribute Value:</dt><dd>edit-media</dd><dt>Description:</dt><dd>An IRI of an editable Media Resource. When appearing within an atom:entry, the href IRI can be used to retrieve, update, and delete the Media Resource associated with that Entry.</dd><dt>Expected display characteristics:</dt><dd>Undefined; this relation can be used for background processing or to provide extended functionality without displaying its value.</dd><dt>Security considerations:</dt><dd>Automated agents should take care when this relation crosses administrative domains (e.g., the URI has a different authority than the current document).</dd></dl><h2 id="rfc.section.16.6"><a href="#rfc.section.16.6">16.6</a>&nbsp;<a id="atom-type-reg" href="#atom-type-reg">The Atom Format Media Type Parameter</a></h2><p id="rfc.section.16.6.p.1">IANA has added a reference to this specification in the 'application/atom+xml' media type registration.</p><h1 id="rfc.references"><a id="rfc.section.17" href="#rfc.section.17">17.</a> References</h1><h2 id="rfc.references.1"><a href="#rfc.section.17.1" id="rfc.section.17.1">17.1</a> Normative References</h2><table summary="Normative References">                                      <tr><td class="reference"><b id="REC-xml">[REC-xml]</b></td><td class="top">Yergeau, F., Paoli, J., Bray, T., Sperberg-McQueen, C., and E. Maler, &#8220;<a href="http://www.w3.org/TR/2006/REC-xml-20060816">Extensible Markup Language (XML) 1.0 (Fourth Edition)</a>&#8221;, World Wide Web Consortium Recommendation&nbsp;REC-xml-20060816, August&nbsp;2006, &lt;<a href="http://www.w3.org/TR/2006/REC-xml-20060816">http://www.w3.org/TR/2006/REC-xml-20060816</a>&gt;.</td></tr><tr><td class="reference"><b id="REC-xml-infoset">[REC-xml-infoset]</b></td><td class="top">Cowan, J. and R. Tobin, &#8220;<a href="http://www.w3.org/TR/2004/REC-xml-infoset-20040204">XML Information Set (Second Edition)</a>&#8221;, World Wide Web Consortium Recommendation&nbsp;REC-xml-infoset-20040204, February&nbsp;2004, &lt;<a href="http://www.w3.org/TR/2004/REC-xml-infoset-20040204">http://www.w3.org/TR/2004/REC-xml-infoset-20040204</a>&gt;.</td></tr><tr><td class="reference"><b id="REC-xml-names">[REC-xml-names]</b></td><td class="top">Hollander, D., Bray, T., Tobin, R., and A. Layman, &#8220;<a href="http://www.w3.org/TR/2006/REC-xml-names-20060816">Namespaces in XML 1.0 (Second Edition)</a>&#8221;, World Wide Web Consortium Recommendation&nbsp;REC-xml-names-20060816, August&nbsp;2006, &lt;<a href="http://www.w3.org/TR/2006/REC-xml-names-20060816">http://www.w3.org/TR/2006/REC-xml-names-20060816</a>&gt;.</td></tr><tr><td class="reference"><b id="REC-xmlbase">[REC-xmlbase]</b></td><td class="top">Marsh, J., &#8220;<a href="http://www.w3.org/TR/2001/REC-xmlbase-20010627">XML Base</a>&#8221;, W3C REC&nbsp;W3C.REC-xmlbase-20010627, June&nbsp;2001, &lt;<a href="http://www.w3.org/TR/2001/REC-xmlbase-20010627">http://www.w3.org/TR/2001/REC-xmlbase-20010627</a>&gt;.</td></tr><tr><td class="reference"><b id="REC-xmldsig-core">[REC-xmldsig-core]</b></td><td class="top">Solo, D., Reagle, J., and D. Eastlake, &#8220;<a href="http://www.w3.org/TR/2002/REC-xmldsig-core-20020212">XML-Signature Syntax and Processing</a>&#8221;, World Wide Web Consortium Recommendation&nbsp;REC-xmldsig-core-20020212, February&nbsp;2002, &lt;<a href="http://www.w3.org/TR/2002/REC-xmldsig-core-20020212">http://www.w3.org/TR/2002/REC-xmldsig-core-20020212</a>&gt;.</td></tr><tr><td class="reference"><b id="REC-xmlenc-core">[REC-xmlenc-core]</b></td><td class="top">Eastlake, D. and J. Reagle, &#8220;<a href="http://www.w3.org/TR/2002/REC-xmlenc-core-20021210">XML Encryption Syntax and Processing</a>&#8221;, World Wide Web Consortium Recommendation&nbsp;REC-xmlenc-core-20021210, December&nbsp;2002, &lt;<a href="http://www.w3.org/TR/2002/REC-xmlenc-core-20021210">http://www.w3.org/TR/2002/REC-xmlenc-core-20021210</a>&gt;.</td></tr><tr><td class="reference"><b id="RFC2119">[RFC2119]</b></td><td class="top"><a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, &#8220;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>&#8221;, BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.</td></tr><tr><td class="reference"><b id="RFC2246">[RFC2246]</b></td><td class="top"><a href="mailto:tdierks@certicom.com" title="Certicom">Dierks, T.</a> and <a href="mailto:callen@certicom.com" title="Certicom">C. Allen</a>, &#8220;<a href="http://tools.ietf.org/html/rfc2246">The TLS Protocol Version 1.0</a>&#8221;, RFC&nbsp;2246, January&nbsp;1999.</td></tr><tr><td class="reference"><b id="RFC2616">[RFC2616]</b></td><td class="top"><a href="mailto:fielding@ics.uci.edu" title="Department of Information and Computer Science">Fielding, R.</a>, <a href="mailto:jg@w3.org" title="World Wide Web Consortium">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com" title="Compaq Computer Corporation">Mogul, J.</a>, <a href="mailto:frystyk@w3.org" title="World Wide Web Consortium">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com" title="Xerox Corporation">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.</a>, and <a href="mailto:timbl@w3.org" title="World Wide Web Consortium">T. Berners-Lee</a>, &#8220;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>&#8221;, RFC&nbsp;2616, June&nbsp;1999.</td></tr><tr><td class="reference"><b id="RFC2617">[RFC2617]</b></td><td class="top"><a href="mailto:john@math.nwu.edu" title="Northwestern University, Department of Mathematics">Franks, J.</a>, <a href="mailto:pbaker@verisign.com" title="Verisign Inc.">Hallam-Baker, P.M.</a>, <a href="mailto:jeff@AbiSource.com" title="AbiSource, Inc.">Hostetler, J.L.</a>, <a href="mailto:lawrence@agranat.com" title="Agranat Systems, Inc.">Lawrence, S.D.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.J.</a>, Luotonen, A., and <a href="mailto:stewart@OpenMarket.com" title="Open Market, Inc.">L. Stewart</a>, &#8220;<a href="http://tools.ietf.org/html/rfc2617">HTTP Authentication: Basic and Digest Access Authentication</a>&#8221;, RFC&nbsp;2617, June&nbsp;1999.</td></tr><tr><td class="reference"><b id="RFC2818">[RFC2818]</b></td><td class="top">Rescorla, E., &#8220;<a href="http://tools.ietf.org/html/rfc2818">HTTP Over TLS</a>&#8221;, RFC&nbsp;2818, May&nbsp;2000.</td></tr><tr><td class="reference"><b id="RFC3023">[RFC3023]</b></td><td class="top">Murata, M., St. Laurent, S., and D. Kohn, &#8220;<a href="http://tools.ietf.org/html/rfc3023">XML Media Types</a>&#8221;, RFC&nbsp;3023, January&nbsp;2001.</td></tr><tr><td class="reference"><b id="RFC3629">[RFC3629]</b></td><td class="top">Yergeau, F., &#8220;<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>&#8221;, STD&nbsp;63, RFC&nbsp;3629, November&nbsp;2003.</td></tr><tr><td class="reference"><b id="RFC3864">[RFC3864]</b></td><td class="top">Klyne, G., Nottingham, M., and J. Mogul, &#8220;<a href="http://tools.ietf.org/html/rfc3864">Registration Procedures for Message Header Fields</a>&#8221;, BCP&nbsp;90, RFC&nbsp;3864, September&nbsp;2004.</td></tr><tr><td class="reference"><b id="RFC3986">[RFC3986]</b></td><td class="top">Berners-Lee, T., Fielding, R., and L. Masinter, &#8220;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>&#8221;, STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005.</td></tr><tr><td class="reference"><b id="RFC3987">[RFC3987]</b></td><td class="top">Duerst, M. and M. Suignard, &#8220;<a href="http://tools.ietf.org/html/rfc3987">Internationalized Resource Identifiers (IRIs)</a>&#8221;, RFC&nbsp;3987, January&nbsp;2005.</td></tr><tr><td class="reference"><b id="RFC4287">[RFC4287]</b></td><td class="top">Nottingham, M. and R. Sayre, &#8220;<a href="http://tools.ietf.org/html/rfc4287">The Atom Syndication Format</a>&#8221;, RFC&nbsp;4287, December&nbsp;2005.</td></tr><tr><td class="reference"><b id="RFC4288">[RFC4288]</b></td><td class="top">Freed, N. and J. Klensin, &#8220;<a href="http://tools.ietf.org/html/rfc4288">Media Type Specifications and Registration Procedures</a>&#8221;, BCP&nbsp;13, RFC&nbsp;4288, December&nbsp;2005.</td></tr><tr><td class="reference"><b id="RFC4346">[RFC4346]</b></td><td class="top">Dierks, T. and E. Rescorla, &#8220;<a href="http://tools.ietf.org/html/rfc4346">The Transport Layer Security (TLS) Protocol Version 1.1</a>&#8221;, RFC&nbsp;4346, April&nbsp;2006.</td></tr></table><h2 id="rfc.references.2"><a href="#rfc.section.17.2" id="rfc.section.17.2">17.2</a> Informative References</h2><table summary="Informative References">      <tr><td class="reference"><b id="NOTE-detect-lost-update">[NOTE-detect-lost-update]</b></td><td class="top">Nielsen, H.F. and D. LaLiberte, &#8220;<a href="http://www.w3.org/1999/04/Editing/">
              Editing the Web: Detecting the Lost Update Problem Using Unreserved Checkout
          </a>&#8221;, World Wide Web Consortium NOTE&nbsp;NOTE-detect-lost-update, May&nbsp;1999, &lt;<a href="http://www.w3.org/1999/04/Editing/">http://www.w3.org/1999/04/Editing/</a>&gt;.</td></tr><tr><td class="reference"><b id="REC-webarch">[REC-webarch]</b></td><td class="top">Walsh, N. and I. Jacobs, &#8220;<a href="http://www.w3.org/TR/2004/REC-webarch-20041215">Architecture of the World Wide Web, Volume One</a>&#8221;, W3C REC&nbsp;REC-webarch-20041215, December&nbsp;2004, &lt;<a href="http://www.w3.org/TR/2004/REC-webarch-20041215">http://www.w3.org/TR/2004/REC-webarch-20041215</a>&gt;.</td></tr><tr><td class="reference"><b id="RNC">[RNC]</b></td><td class="top">Clark, J., &#8220;<a href="http://www.oasis-open.org/committees/relax-ng/compact-20021121.html">RELAX NG Compact Syntax</a>&#8221;, December&nbsp;2001, &lt;<a href="http://www.oasis-open.org/committees/relax-ng/compact-20021121.html">http://www.oasis-open.org/committees/relax-ng/compact-20021121.html</a>&gt;.</td></tr></table><h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1><address class="vcard"><span class="vcardline"><span class="fn">Joe Gregorio</span>
          (editor)
        <span class="n hidden"><span class="family-name">Gregorio</span><span class="given-name">Joe</span></span></span><span class="org vcardline">Google</span><span class="vcardline">EMail: <a href="mailto:joe@bitworking.org"><span class="email">joe@bitworking.org</span></a></span><span class="vcardline">URI: <a href="http://bitworking.org/" class="url">http://bitworking.org/</a></span></address><address class="vcard"><span class="vcardline"><span class="fn">Bill de hOra</span>
          (editor)
        <span class="n hidden"><span class="family-name">de hOra</span><span class="given-name">Bill</span></span></span><span class="org vcardline">NewBay Software</span><span class="vcardline">EMail: <a href="mailto:bill@dehora.net"><span class="email">bill@dehora.net</span></a></span><span class="vcardline">URI: <a href="http://dehora.net/" class="url">http://dehora.net/</a></span></address><h1 id="rfc.section.A"><a href="#rfc.section.A">A.</a>&nbsp;Contributors</h1><p id="rfc.section.A.p.1">The content and concepts within are a product of the Atom community and the Atompub Working Group.</p><h1 id="rfc.section.B"><a href="#rfc.section.B">B.</a>&nbsp;<a id="schema" href="#schema">RELAX NG Compact Schema</a></h1><p id="rfc.section.B.p.1">This appendix is informative.</p><p id="rfc.section.B.p.2">The Relax NG schema explicitly excludes elements in the Atom Protocol namespace that are not defined in this revision of the specification. Requirements for Atom Protocol processors encountering such markup are given in Sections <a href="http://tools.ietf.org/html/rfc4287#section-6.2">6.2</a> and <a href="http://tools.ietf.org/html/rfc4287#section-6.3">6.3</a> of <a href="#RFC4287"><cite title="The Atom Syndication Format">[RFC4287]</cite></a>.</p><p id="rfc.section.B.p.3">The Schema for Service Documents:</p><div id="rfc.figure.u.46"></div> <pre class="inline"># -*- rnc -*-# RELAX NG Compact Syntax Grammar for the Atom Protocol

namespace app = "http://www.w3.org/2007/app"
namespace atom = "http://www.w3.org/2005/Atom"
namespace xsd = "http://www.w3.org/2001/XMLSchema"
namespace xhtml = "http://www.w3.org/1999/xhtml"
namespace local = ""

start = appService

# common:attrs

atomURI = text

appCommonAttributes =
   attribute xml:base { atomURI }?,
   attribute xml:lang { atomLanguageTag  }?,
   attribute xml:space {"default"|"preserved"}?,
   undefinedAttribute*


atomCommonAttributes = appCommonAttributes

undefinedAttribute = attribute * - (xml:base | xml:space  | xml:lang 
  | local:*) { text }

atomLanguageTag = xsd:string {
   pattern = "([A-Za-z]{1,8}(-[A-Za-z0-9]{1,8})*)?"
}

atomDateConstruct =
    appCommonAttributes,
    xsd:dateTime

# app:service

appService =
   element app:service {
      appCommonAttributes,
      ( appWorkspace+
        &amp; extensionElement* )
   }

# app:workspace

appWorkspace =
   element app:workspace {
      appCommonAttributes,
      ( atomTitle
        &amp; appCollection*
        &amp; extensionSansTitleElement* )
   }

atomTitle = element atom:title { atomTextConstruct }

# app:collection

appCollection =
   element app:collection {
      appCommonAttributes,
      attribute href { atomURI  },
      ( atomTitle
        &amp; appAccept*
        &amp; appCategories*
        &amp; extensionSansTitleElement* )
   }

# app:categories

atomCategory =
    element atom:category {
       atomCommonAttributes,
       attribute term { text },
       attribute scheme { atomURI }?,
       attribute label { text }?,
       undefinedContent
    }

appInlineCategories =
    element app:categories {
        attribute fixed { "yes" | "no" }?,
        attribute scheme { atomURI }?,
        (atomCategory*,
        undefinedContent)
    }

appOutOfLineCategories =
    element app:categories {
        attribute href { atomURI },
        undefinedContent
    }

appCategories = appInlineCategories | appOutOfLineCategories


# app:accept

appAccept =
   element app:accept {
         appCommonAttributes,
         ( text? )
   }

# Simple Extension

simpleSansTitleExtensionElement =
   element * - (app:*|atom:title) {
      text
   }

simpleExtensionElement =
   element * - (app:*) {
      text
   }


# Structured Extension

structuredSansTitleExtensionElement =
   element * - (app:*|atom:title) {
      (attribute * { text }+,
         (text|anyElement)*)
    | (attribute * { text }*,
       (text?, anyElement+, (text|anyElement)*))
   }

structuredExtensionElement =
   element * - (app:*) {
      (attribute * { text }+,
         (text|anyElement)*)
    | (attribute * { text }*,
       (text?, anyElement+, (text|anyElement)*))
   }

# Other Extensibility

extensionSansTitleElement =
 simpleSansTitleExtensionElement|structuredSansTitleExtensionElement


extensionElement = simpleExtensionElement |
   structuredExtensionElement

undefinedContent = (text|anyForeignElement)*

# Extensions

anyElement =
   element * {
      (attribute * { text }
       | text
       | anyElement)*
   }

anyForeignElement =
    element * - app:* {
       (attribute * { text }
        | text
        | anyElement)*
    }

atomPlainTextConstruct =
    atomCommonAttributes,
    attribute type { "text" | "html" }?,
    text

atomXHTMLTextConstruct =
    atomCommonAttributes,
    attribute type { "xhtml" },
    xhtmlDiv

atomTextConstruct = atomPlainTextConstruct | atomXHTMLTextConstruct

anyXHTML = element xhtml:* {
    (attribute * { text }
     | text
     | anyXHTML)*
}

xhtmlDiv = element xhtml:div {
  (attribute * { text }
   | text
   | anyXHTML)*
}

# EOF
</pre> <p id="rfc.section.B.p.5">The Schema for Category Documents:</p><div id="rfc.figure.u.47"></div> <pre class="inline"># -*- rnc -*-# RELAX NG Compact Syntax Grammar for the Atom Protocol

namespace app = "http://www.w3.org/2007/app"
namespace atom = "http://www.w3.org/2005/Atom"
namespace xsd = "http://www.w3.org/2001/XMLSchema"
namespace local = ""

start = appCategories

atomCommonAttributes =
   attribute xml:base { atomURI }?,
   attribute xml:lang { atomLanguageTag }?,
   undefinedAttribute*

undefinedAttribute = attribute * - (xml:base | xml:lang | local:*) {
  text }

atomURI = text

atomLanguageTag = xsd:string {
   pattern = "([A-Za-z]{1,8}(-[A-Za-z0-9]{1,8})*)?"
}


atomCategory =
    element atom:category {
       atomCommonAttributes,
       attribute term { text },
       attribute scheme { atomURI }?,
       attribute label { text }?,
       undefinedContent
    }

appInlineCategories =
    element app:categories {
        attribute fixed { "yes" | "no" }?,
        attribute scheme { atomURI }?,
        (atomCategory*,
        undefinedContent)
    }

appOutOfLineCategories =
    element app:categories {
        attribute href { atomURI },
        (empty)
    }

appCategories = appInlineCategories | appOutOfLineCategories


# Extensibility

undefinedContent = (text|anyForeignElement)*

anyElement =
   element * {
      (attribute * { text }
       | text
       | anyElement)*
   }

anyForeignElement =
    element * - atom:* {
       (attribute * { text }
        | text
        | anyElement)*
    }

# EOF
</pre> <h1><a id="rfc.copyright" href="#rfc.copyright">Full Copyright Statement</a></h1><p>Copyright &copy; The IETF Trust (2007).</p><p>This document is subject to the rights, licenses and restrictions contained in BCP 78, and except as set forth therein, the authors retain all their rights.</p><p>This document and the information contained herein are provided on an &#8220;AS IS&#8221; basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.</p><h1><a id="rfc.ipr" href="#rfc.ipr">Intellectual Property</a></h1><p>The IETF takes no position regarding the validity or scope of any Intellectual Property Rights or other rights that might be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any license under such rights might or might not be available; nor does it represent that it has made any independent effort to identify any such rights. Information on the procedures with respect to rights in RFC documents can be found in BCP 78 and BCP 79.</p><p>Copies of IPR disclosures made to the IETF Secretariat and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this specification can be obtained from the IETF on-line IPR repository at &lt;<a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>&gt;.</p><p>The IETF invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary rights that may cover technology that may be required to implement this standard. Please address the information to the IETF at <a href="mailto:ietf-ipr@ietf.org">ietf-ipr@ietf.org</a>.</p><h1>Acknowledgement</h1><p>Funding for the RFC Editor function is provided by the IETF Administrative Support Activity (IASA).</p></body></html>