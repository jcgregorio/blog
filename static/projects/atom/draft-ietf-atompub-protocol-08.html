<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>The Atom Publishing Protocol</title><style type="text/css" title="Xml2Rfc (sans serif)">
a {
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}
a:active {
  text-decoration: underline;
}
address {
  margin-top: 1em;
  margin-left: 2em;
  font-style: normal;
}
body {
  
  color: #000000;
  font-family: verdana, helvetica, arial, sans-serif;
  font-size: 10pt;
}
dl {
  margin-left: 2em;
}
h1 {
  color: #333333;
  font-size: 14pt;
  line-height: 21pt;
  page-break-after: avoid;
}
h1.np {
  page-break-before: always;
}
h1 a {
  color: #333333;
}
h2 {
  color: #000000;
  font-size: 12pt;
  line-height: 15pt;
  page-break-after: avoid;
}
h2 a {
  color: #000000;
}
h3 {
  color: #000000;
  font-size: 10pt;
  page-break-after: avoid;
}
h3 a {
  color: #000000;
}
h4 {
  color: #000000;
  font-size: 10pt;
  page-break-after: avoid;
}
h4 a {
  color: #000000;
}
h5 {
  color: #000000;
  font-size: 10pt;
  page-break-after: avoid;
}
h5 a {
  color: #000000;
}
img {
  margin-left: 3em;
}
li {
  margin-left: 2em;
  margin-right: 2em;
}
ol {
  margin-left: 2em;
  margin-right: 2em;
}
p {
  margin-left: 2em;
  margin-right: 2em;
}
pre {
  margin-left: 3em;
  background-color: lightyellow;
}
table {
  margin-left: 2em;
}
table.header {
  width: 95%;
  font-size: 10pt;
  color: white;
}
td.top {
  vertical-align: top;
}
td.topnowrap {
  vertical-align: top;
  white-space: nowrap; 
}
td.right {
  text-align: right;
}
td.header-l {
  background-color: gray;
  width: 50%;
}
td.header-r {
  background-color: gray;
  width: 50%;
  text-align: right;
}
thead {
  display:table-header-group;
}
ul.toc {
  list-style: none;
  margin-left: 1.5em;
  margin-right: 0em;
  padding-left: 0em;
}
li.tocline0 {
  line-height: 150%;
  font-weight: bold;
  font-size: 10pt;
  margin-left: 0em;
  margin-right: 0em;
}
li.tocline1 {
  line-height: normal;
  font-weight: normal;
  font-size: 9pt;
  margin-left: 0em;
  margin-right: 0em;
}
li.tocline2 {
  font-size: 0pt;
}
ul.ind {
  list-style: none;
  margin-left: 1.5em;
  margin-right: 0em;
  padding-left: 0em;
}
li.indline0 {
  font-weight: bold;
  line-height: 200%;
  margin-left: 0em;
  margin-right: 0em;
}
li.indline1 {
  font-weight: normal;
  line-height: 150%;
  margin-left: 0em;
  margin-right: 0em;
}
.comment {
  background-color: yellow;
}
.editingmark {
  background-color: khaki;
}
.error {
  font-size: 14pt;
  background-color: red;
}
.toowide {
  color: red;
  font-weight: bold;
}
.title {
  color: #990000;
  font-size: 18pt;
  line-height: 18pt;
  font-weight: bold;
  text-align: center;
}
.figure {
  font-weight: bold;
  text-align: center;
  font-size: 9pt;
}
.filename {
  color: #333333;
  font-weight: bold;
  font-size: 12pt;
  line-height: 21pt;
  text-align: center;
}
.warning {
  font-size: 14pt;
  background-color: yellow;
}
del {
  color: red;
  text-decoration: line-through;
}
.del {
  color: red;
  text-decoration: line-through;
}
.fn {
  font-weight: bold;
}
ins {
  color: green;
  text-decoration: underline;
}
.ins {
  color: green;
  text-decoration: underline;
}
.pn {
  position: absolute;
  color: white;
}
.pn:hover {
  color: #C8A8FF;
}
.vcardline {
  display: block;
}

table.openissue {
  background-color: khaki;
  border-width: thin;
  border-style: solid;
  border-color: black;
}

table.closedissue {
  background-color: white;
  border-width: thin;
  border-style: solid;
  border-color: gray;
  color: gray; 
}

.closed-issue {
  border: solid;
  border-width: thin;
  background-color: lime;
  font-size: smaller;
  font-weight: bold;
}

.open-issue {
  border: solid;
  border-width: thin;
  background-color: red;
  font-size: smaller;
  font-weight: bold;
}

.editor-issue {
  border: solid;
  border-width: thin;
  background-color: yellow;
  font-size: smaller;
  font-weight: bold;
}

@media print {
  .noprint {
    display: none;
  }
  
  table.header {
    width: 90%;
  }

  td.header-l {
    width: 50%;
    color: black;
    background-color: white;
    vertical-align: top;
    font-size: 10pt;
  }

  td.header-r {
    width: 33%;
    color: black;
    background-color: white;
    vertical-align: top;
    text-align: right;
    font-size: 10pt;
  }

  ul.toc a::after {
    content: leader('.') target-counter(attr(href), page);
  }
  
  a.iref {
    content: target-counter(attr(href), page);
  }
}

@page {
  @top-left {
       content: "INTERNET DRAFT"; 
  } 
  @top-right {
       content: "February 2006"; 
  } 
  @top-center {
       content: "The Atom Publishing Protocol"; 
  } 
  @bottom-left {
       content: "Gregorio & de hOra"; 
  } 
  @bottom-center {
       content: "Standards Track"; 
  } 
  @bottom-right {
       content: "[Page " counter(page) "]"; 
  } 
}

@page:first { 
    @top-left {
      content: normal;
    }
    @top-right {
      content: normal;
    }
    @top-center {
      content: normal;
    }
}
</style><link rel="Contents" href="#rfc.toc"><link rel="Author" href="#rfc.authors"><link rel="Copyright" href="#rfc.copyright"><link rel="Chapter" title="1 Introduction" href="#rfc.section.1"><link rel="Chapter" title="2 Notational Conventions" href="#rfc.section.2"><link rel="Chapter" title="3 Terminology" href="#rfc.section.3"><link rel="Chapter" title="4 Protocol Model" href="#rfc.section.4"><link rel="Chapter" title="5 Protocol Operations" href="#rfc.section.5"><link rel="Chapter" title="6 XML-related Conventions" href="#rfc.section.6"><link rel="Chapter" title="7 Introspection Documents" href="#rfc.section.7"><link rel="Chapter" title="8 Collections" href="#rfc.section.8"><link rel="Chapter" title="9 Listing Collections" href="#rfc.section.9"><link rel="Chapter" title="10 Atom Format Link Relation Extensions" href="#rfc.section.10"><link rel="Chapter" title="11 Atom Publishing Control Extensions" href="#rfc.section.11"><link rel="Chapter" title="12 Atom Publishing Protocol Example" href="#rfc.section.12"><link rel="Chapter" title="13 Securing the Atom Protocol" href="#rfc.section.13"><link rel="Chapter" title="14 Security Considerations" href="#rfc.section.14"><link rel="Chapter" title="15 IANA Considerations" href="#rfc.section.15"><link rel="Chapter" href="#rfc.section.16" title="16 References"><link rel="Appendix" title="A Contributors" href="#rfc.section.A"><link rel="Appendix" title="B RELAX NG Compact Schema" href="#rfc.section.B"><link rel="Appendix" title="C Revision History" href="#rfc.section.C"><meta name="generator" content="http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.220, 2005/04/11 11:37:53, XSLT vendor: libxslt http://xmlsoft.org/XSLT/"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.Creator" content="Gregorio, J.C."><meta name="DC.Creator" content="de hOra, B."><meta name="DC.Identifier" content="urn:ietf:id:draft-ietf-atompub-protocol-08.txt"><meta name="DC.Date.Issued" scheme="ISO8601" content="2006-02"><meta name="DC.Description.Abstract" content="The Atom Publishing Protocol (APP) is an application-level protocol for publishing and editing Web resources. The protocol is based on HTTP transport of Atom-formatted representations. The Atom format is documented in the Atom Syndication Format (RFC4287)."></head><body><table summary="header information" class="header" border="0" cellpadding="1" cellspacing="1"><tr><td class="header-l">Network Working Group </td><td class="header-r">J.C. Gregorio, Editor </td></tr><tr><td class="header-l">INTERNET DRAFT </td><td class="header-r">BitWorking, Inc </td></tr><tr><td class="header-l">
        &lt;draft-ietf-atompub-protocol-08.txt&gt;
       </td><td class="header-r">B. de hOra, Editor </td></tr><tr><td class="header-l">Category: Standards Track </td><td class="header-r">Propylon Ltd. </td></tr><tr><td class="header-l">Expires: August 2006 </td><td class="header-r">February 2006 </td></tr></table><p class="title"><br>The Atom Publishing Protocol<br><span class="filename">draft-ietf-atompub-protocol-08.txt</span></p><h1><a name="rfc.status" href="#rfc.status">Status of this Memo</a></h1><p>By submitting this Internet-Draft, each author represents that any applicable patent or other IPR claims of which he or she is aware have been or will be disclosed, and any of which he or she becomes aware will be disclosed, in accordance with Section 6 of BCP 79.</p><p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF), its areas, and its working groups. Note that other groups may also distribute working documents as Internet-Drafts.</p><p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time. It is inappropriate to use Internet-Drafts as reference material or to cite them other than as &#8220;work in progress&#8221;.</p><p>The list of current Internet-Drafts can be accessed at &lt;<a href="http://www.ietf.org/ietf/1id-abstracts.txt">http://www.ietf.org/ietf/1id-abstracts.txt</a>&gt;.</p><p>The list of Internet-Draft Shadow Directories can be accessed at &lt;<a href="http://www.ietf.org/shadow.html">http://www.ietf.org/shadow.html</a>&gt;.</p><p>This Internet-Draft will expire in August 2006.</p><h1><a name="rfc.copyrightnotice" href="#rfc.copyrightnotice">Copyright Notice</a></h1><p>Copyright © The Internet Society (2006). All Rights Reserved.</p><h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1> <p>The Atom Publishing Protocol (APP) is an application-level protocol for publishing and editing Web resources. The protocol is based on HTTP transport of Atom-formatted representations. The Atom format is documented in the Atom Syndication Format (RFC4287).</p> <h1 id="rfc.note.1"><a href="#rfc.note.1"></a>Editorial Note</h1> <p>To provide feedback on this Internet-Draft, join the <a href="http://www.imc.org/atom-protocol/index.html">atom-protocol mailing list (http://www.imc.org/atom-protocol/index.html)</a>.</p> <hr class="noprint"><h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1><ul class="toc"><li class="tocline0">1.   <a href="#rfc.section.1">Introduction</a></li><li class="tocline0">2.   <a href="#rfc.section.2">Notational Conventions</a></li><li class="tocline0">3.   <a href="#terminology">Terminology</a></li><li class="tocline0">4.   <a href="#rfc.section.4">Protocol Model</a></li><li class="tocline0">5.   <a href="#operation">Protocol Operations</a><ul class="toc"><li class="tocline1">5.1   <a href="#find-collections">Retrieving an Introspection Document</a></li><li class="tocline1">5.2   <a href="#post-to-create">Creating a Resource</a></li><li class="tocline1">5.3   <a href="#edit">Editing a Resource</a><ul class="toc"><li class="tocline1">5.3.1   <a href="#rfc.section.5.3.1">Retrieving a Resource</a></li><li class="tocline1">5.3.2   <a href="#rfc.section.5.3.2">Updating a Resource</a></li><li class="tocline1">5.3.3   <a href="#rfc.section.5.3.3">Deleting a Resource</a></li></ul></li><li class="tocline1">5.4   <a href="#listing">Listing Collection Members</a></li><li class="tocline1">5.5   <a href="#rfc.section.5.5">Use of HTTP Response codes</a></li></ul></li><li class="tocline0">6.   <a href="#xml-conv">XML-related Conventions</a><ul class="toc"><li class="tocline1">6.1   <a href="#i-items">Referring to Information Items</a></li><li class="tocline1">6.2   <a href="#xmlns">XML Namespace Usage</a></li><li class="tocline1">6.3   <a href="#baselang">Use of xml:base and xml:lang</a></li><li class="tocline1">6.4   <a href="#rfc.section.6.4">RELAX NG Schema</a></li></ul></li><li class="tocline0">7.   <a href="#appdocs">Introspection Documents</a><ul class="toc"><li class="tocline1">7.1   <a href="#appdocs_example">Example</a></li><li class="tocline1">7.2   <a href="#service_document_elements">Element Definitions</a><ul class="toc"><li class="tocline1">7.2.1   <a href="#rfc.section.7.2.1">The "app:service" Element</a></li><li class="tocline1">7.2.2   <a href="#rfc.section.7.2.2">The "app:workspace" Element</a><ul class="toc"><li class="tocline2"></ul></li><li class="tocline1">7.2.3   <a href="#rfc.section.7.2.3">The "app:collection" Element</a><ul class="toc"><li class="tocline2"><li class="tocline2"></ul></li><li class="tocline1">7.2.4   <a href="#member-type">The "app:member-type" Element</a></li></ul></li></ul></li><li class="tocline0">8.   <a href="#collection_resource">Collections</a><ul class="toc"><li class="tocline1">8.1   <a href="#rfc.section.8.1">Creating resources with POST</a><ul class="toc"><li class="tocline1">8.1.1   <a href="#rfc.section.8.1.1">Example</a></li><li class="tocline1">8.1.2   <a href="#rfc.section.8.1.2">Title: Header</a></li></ul></li><li class="tocline1">8.2   <a href="#author_entry">Entry Collections</a><ul class="toc"><li class="tocline1">8.2.1   <a href="#edit_fm">Editing entries with foreign markup</a></li></ul></li><li class="tocline1">8.3   <a href="#author_generic">Media Collections</a><ul class="toc"><li class="tocline1">8.3.1   <a href="#rfc.section.8.3.1">Editing Media Resources</a></li><li class="tocline1">8.3.2   <a href="#rfc.section.8.3.2">Editing Media Metadata</a></li></ul></li></ul></li><li class="tocline0">9.   <a href="#templates">Listing Collections</a><ul class="toc"><li class="tocline1">9.1   <a href="#rfc.section.9.1">Collection Paging</a></li></ul></li><li class="tocline0">10.   <a href="#atom-entry-extensions">Atom Format Link Relation Extensions</a><ul class="toc"><li class="tocline1">10.1   <a href="#new-link-relation">The "edit" Link Relation</a></li></ul></li><li class="tocline0">11.   <a href="#pub-control">Atom Publishing Control Extensions</a><ul class="toc"><li class="tocline1">11.1   <a href="#rfc.section.11.1">The Atom Publishing Control Namespace</a></li><li class="tocline1">11.2   <a href="#rfc.section.11.2">The "pub:control" Element</a><ul class="toc"><li class="tocline1">11.2.1   <a href="#rfc.section.11.2.1">The "pub:draft" Element</a></li></ul></li></ul></li><li class="tocline0">12.   <a href="#rfc.section.12">Atom Publishing Protocol Example</a></li><li class="tocline0">13.   <a href="#rfc.section.13">Securing the Atom Protocol</a><ul class="toc"><li class="tocline2"></ul></li><li class="tocline0">14.   <a href="#rfc.section.14">Security Considerations</a></li><li class="tocline0">15.   <a href="#iana">IANA Considerations</a></li><li class="tocline0">16.   <a href="#rfc.references">References</a><ul class="toc"><li class="tocline1">16.1   <a href="#rfc.references.1">Normative References</a></li><li class="tocline1">16.2   <a href="#rfc.references.2">Informative References</a></li></ul></li><li class="tocline0"><a href="#rfc.authors">Authors' Addresses</a></li><li class="tocline0">A.   <a href="#rfc.section.A">Contributors</a></li><li class="tocline0">B.   <a href="#schema">RELAX NG Compact Schema</a></li><li class="tocline0">C.   <a href="#rfc.section.C">Revision History</a></li><li class="tocline0"><a href="#rfc.ipr">Intellectual Property and Copyright Statements</a></li></ul><hr class="noprint"><h1 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a> Introduction</h1><p id="rfc.section.1.p.1">The Atom Publishing Protocol is an application-level protocol for publishing and editing Web resources using HTTP <a href="#RFC2616" title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</a> and XML 1.0 <a href="#W3C.REC-xml-20040204" title="Extensible Markup Language (XML) 1.0 (Third Edition)">[W3C.REC-xml-20040204]</a>. The protocol supports the creation of arbitrary web resources and provides facilities for:</p><p id="rfc.section.1.p.2"> </p><ul><li>Collections: Sets of resources, which may be retrieved in whole or in part.</li><li>Introspection: Discovering and describing collections.</li><li>Editing: Creating, updating and deleting resources.</li></ul><hr class="noprint"><h1 id="rfc.section.2" class="np"><a href="#rfc.section.2">2.</a> Notational Conventions</h1><p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>.</p><p id="rfc.section.2.p.2">Note: The Introspection Document allows the use of IRIs <a href="#RFC3987" title="Internationalized Resource Identifiers (IRIs)">[RFC3987]</a>, as well as URIs <a href="#RFC3986" title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</a>. Every URI is an IRI, so any URI can be used where an IRI is needed. How to map an IRI to a URI is specified in Section 3.1 of Internationalized Resource Identifiers (IRIs) <a href="#RFC3987" title="Internationalized Resource Identifiers (IRIs)">[RFC3987]</a>.</p><hr class="noprint"><h1 id="rfc.section.3" class="np"><a href="#rfc.section.3">3.</a> <a name="terminology" href="#terminology">Terminology</a></h1><p id="rfc.section.3.p.1">For convenience, this protocol may be referred to as the "Atom Protocol" or "APP".</p><p id="rfc.section.3.p.2">URI/IRI - A Uniform Resource Identifier and Internationalized Resource Identifier. These terms and the distinction between them are defined in <a href="#RFC3986" title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</a> and <a href="#RFC3987" title="Internationalized Resource Identifiers (IRIs)">[RFC3987]</a>. Note that IRIs are mapped to URIs before dereferencing takes place.</p><p id="rfc.section.3.p.3">Resource - A network-accessible data object or service identified by an IRI, as defined in <a href="#RFC2616" title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</a>. See <a href="#W3C.REC-webarch-20041215" title="Architecture of the World Wide Web, Volume One">[W3C.REC-webarch-20041215]</a> for further discussion on resources.</p><p id="rfc.section.3.p.4">The phrase "the URI of a document" in this specification is shorthand for "an URI which, when dereferenced, is expected to produce that document as a representation".</p><p id="rfc.section.3.p.5">Representation - An entity included with a request or response as defined in <a href="#RFC2616" title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</a>.</p><p id="rfc.section.3.p.6">Collection - A resource that contains a set of member IRIs. See <a href="#collection_resource" title="Collections">Section 8</a>.</p><p id="rfc.section.3.p.7">Member - A resource whose IRI is listed in a Collection.</p><p id="rfc.section.3.p.8">Introspection Document - A document that describes the location and capabilities of one or more Collections. See <a href="#appdocs" title="Introspection Documents">Section 7</a>.</p><hr class="noprint"><h1 id="rfc.section.4" class="np"><a href="#rfc.section.4">4.</a> Protocol Model</h1><p id="rfc.section.4.p.1">The Atom Publishing Protocol uses HTTP to edit and author web resources. The Atom Protocol uses the following HTTP methods:</p><p id="rfc.section.4.p.2"> </p><ul><li>GET is used to retrieve a representation of a resource or perform a query.</li><li>POST is used to create a new, dynamically-named resource.</li><li>PUT is used to update a known resource.</li><li>DELETE is used to remove a resource.</li></ul><p id="rfc.section.4.p.3">Along with operations on resources, the Atom Protocol provides list-based structures, called Collections, for managing and organising resources, called Members. Collections contain the IRIs of, and metadata about, their Member resources. For authoring and editing of resources to commence, an Atom Protocol client can examine Introspection Documents which represent server-defined groups of Collections.</p><p id="rfc.section.4.p.4">Note that when an IRI is used for resource retrieval over HTTP, the IRI is first converted to a URI according the procedure defined in <a href="#RFC3987" title="Internationalized Resource Identifiers (IRIs)">[RFC3987]</a> section 3.1. The resource that the IRI locates is the same as the one located by the URI obtained after converting the IRI.</p><hr class="noprint"><h1 id="rfc.section.5" class="np"><a href="#rfc.section.5">5.</a> <a name="operation" href="#operation">Protocol Operations</a></h1><h2 id="rfc.section.5.1"><a href="#rfc.section.5.1">5.1</a> <a name="find-collections" href="#find-collections">Retrieving an Introspection Document</a></h2><div id="rfc.figure.u.1"></div> <pre>
Client                                     Server 
  |                                           |
  |  1.) GET to URI of Introspection Document |     
  |------------------------------------------&gt;|     
  |                                           |     
  |  2.) Introspection Document               |    
  |&lt;------------------------------------------|
  |                                           |
</pre> <p id="rfc.section.5.1.p.2"> </p><ol><li>The client sends a GET request to the URI of the Introspection Document.</li><li>The server responds with the document enumerating the IRIs of a set of Collections and the capabilities of those Collections supported by the server. The content of this document can vary based on aspects of the client request, including, but not limited to, authentication credentials.</li></ol><h2 id="rfc.section.5.2"><a href="#rfc.section.5.2">5.2</a> <a name="post-to-create" href="#post-to-create">Creating a Resource</a></h2><div id="rfc.figure.u.2"></div> <pre>
Client                                     Server 
  |                                           |
  |  1.) POST to URI of Collection            |     
  |------------------------------------------&gt;|     
  |                                           |     
  |  2.) 201 Created                          |    
  |&lt;------------------------------------------|
  |                                           |
</pre> <p id="rfc.section.5.2.p.2"> </p><ol><li>The client POSTs a representation of the Member to the URI of the collection.</li><li>If the Member resource was created successfully, the server responds with a status code of 201 and a Location: header that contains the URI of the newly created resource.</li></ol><h2 id="rfc.section.5.3"><a href="#rfc.section.5.3">5.3</a> <a name="edit" href="#edit">Editing a Resource</a></h2><p id="rfc.section.5.3.p.1">Once a resource has been created and its URI is known, that URI may be used to retrieve, update, and delete the resource.</p><h3 id="rfc.section.5.3.1"><a href="#rfc.section.5.3.1">5.3.1</a> Retrieving a Resource</h3><div id="rfc.figure.u.3"></div> <pre>
Client                                     Server 
  |                                           |
  |  1.) GET to Member URI                    |     
  |------------------------------------------&gt;|     
  |                                           |     
  |  2.) Member Representation                |    
  |&lt;------------------------------------------|
  |                                           |
</pre> <p id="rfc.section.5.3.1.p.2"> </p><ol><li>The client sends a GET request to the Member's URI to retrieve its representation.</li><li>The server responds with the representation of the resource.</li></ol><h3 id="rfc.section.5.3.2"><a href="#rfc.section.5.3.2">5.3.2</a> Updating a Resource</h3><div id="rfc.figure.u.4"></div> <pre>
Client                                     Server
  |                                           |
  |  1.) PUT to Member URI                    |     
  |------------------------------------------&gt;|     
  |                                           |     
  |  2.) 200 OK                               |    
  |&lt;------------------------------------------|
</pre> <p id="rfc.section.5.3.2.p.2"> </p><ol><li>The client PUTs an updated representation to the Member's URI.</li><li>Upon a successful update of the resource the server responds with a status code of 200.</li></ol><h3 id="rfc.section.5.3.3"><a href="#rfc.section.5.3.3">5.3.3</a> Deleting a Resource</h3><div id="rfc.figure.u.5"></div> <pre>
Client                                     Server 
  |                                           |
  |  1.) DELETE to Member URI                 |     
  |------------------------------------------&gt;|     
  |                                           |     
  |  2.) 200 Ok                               |    
  |&lt;------------------------------------------|     
  |                                           |
</pre> <p id="rfc.section.5.3.3.p.2"> </p><ol><li>The client sends a DELETE request to the Member's URI.</li><li>Upon the successful deletion of the resource the server responds with a status code of 200.</li></ol><h2 id="rfc.section.5.4"><a href="#rfc.section.5.4">5.4</a> <a name="listing" href="#listing">Listing Collection Members</a></h2><p id="rfc.section.5.4.p.1">To list the members of a Collection the client sends a GET request to the Collection's URI. An Atom Feed Document is returned containing one Atom Entry for each member resource. See <a href="#templates" title="Listing Collections">Section 9</a> and <a href="#atom-entry-extensions" title="Atom Format Link Relation Extensions">Section 10</a> for a description of the feed contents.</p><div id="rfc.figure.u.6"></div> <pre>
Client                          Server 
  |                                |     
  |  1.) GET to Collection URI     |     
  |-------------------------------&gt;|     
  |                                |     
  |  2.) 200 OK, Atom Feed Doc     |    
  |&lt;-------------------------------|     
  |                                |
          </pre> <p id="rfc.section.5.4.p.3"> </p><ol><li>The client sends a GET request to the Collection's URI.</li><li>The server responds with an Atom Feed Document containing the IRIs of the collection members.</li></ol><h2 id="rfc.section.5.5"><a href="#rfc.section.5.5">5.5</a> Use of HTTP Response codes</h2><p id="rfc.section.5.5.p.1">The Atom Protocol uses the response status codes defined in HTTP to indicate the success or failure of an operation. Consult the HTTP specification <a href="#RFC2616" title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</a> for detailed definitions of each status code. It is RECOMMENDED that entities contained within HTTP 4xx and 5xx responses include an explanation of the error using natural language.</p><hr class="noprint"><h1 id="rfc.section.6" class="np"><a href="#rfc.section.6">6.</a> <a name="xml-conv" href="#xml-conv">XML-related Conventions</a></h1><p id="rfc.section.6.p.1">The Atom Protocol Introspection format is specified in terms of the XML Information Set <a href="#W3C.REC-xml-infoset-20040204" title="XML Information Set (Second Edition)">[W3C.REC-xml-infoset-20040204]</a>, serialised as XML 1.0 <a href="#W3C.REC-xml-20040204" title="Extensible Markup Language (XML) 1.0 (Third Edition)">[W3C.REC-xml-20040204]</a>. Atom Publishing Protocol Documents MUST be well-formed XML. This specification does not define any DTDs for Atom Protocol, and hence does not require them to be "valid" in the sense used by XML.</p><h2 id="rfc.section.6.1"><a href="#rfc.section.6.1">6.1</a> <a name="i-items" href="#i-items">Referring to Information Items</a></h2><p id="rfc.section.6.1.p.1">This specification uses a shorthand for two common terms: the phrase "Information Item" is omitted when discussing Element Information Items and Attribute Information Items. Therefore, when this specification uses the term "element," it is referring to an Element Information Item in Infoset terms. Likewise, when it uses the term "attribute," it is referring to an Attribute Information Item.</p><h2 id="rfc.section.6.2"><a href="#rfc.section.6.2">6.2</a> <a name="xmlns" href="#xmlns">XML Namespace Usage</a></h2><p id="rfc.section.6.2.p.1">The namespace name <a href="#W3C.REC-xml-names-19990114" title="Namespaces in XML">[W3C.REC-xml-names-19990114]</a> for the XML format described in this specification is:</p><div id="rfc.figure.u.7"></div> <pre>
http://purl.org/atom/app#</pre> <p id="rfc.section.6.2.p.3">This specification uses the prefix "app:" for the namespace name. The choice of namespace prefix is not semantically significant.</p><p id="rfc.section.6.2.p.4">This specification also uses the prefix "atom:" for "http://www.w3.org/2005/Atom", the namespace name of the Atom Publishing Format <a href="#RFC4287" title="The Atom Syndication Format">[RFC4287]</a>.</p><h2 id="rfc.section.6.3"><a href="#rfc.section.6.3">6.3</a> <a name="baselang" href="#baselang">Use of xml:base and xml:lang</a></h2><p id="rfc.section.6.3.p.1">XML elements defined by this specification MAY have an xml:base attribute <a href="#W3C.REC-xmlbase-20010627" title="XML Base">[W3C.REC-xmlbase-20010627]</a>. When xml:base is used, it serves the function described in section 5.1.1 of URI Generic Syntax <a href="#RFC3986" title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</a>, establishing the base URI (or IRI) for resolving any relative references found within the effective scope of the xml:base attribute.</p><p id="rfc.section.6.3.p.2">Any element defined by this specification MAY have an xml:lang attribute, whose content indicates the natural language for the element and its descendents. The language context is only significant for elements and attributes declared to be "Language-Sensitive" by this specification. Requirements regarding the content and interpretation of xml:lang are specified in Section 2.12 of XML 1.0 <a href="#W3C.REC-xml-20040204" title="Extensible Markup Language (XML) 1.0 (Third Edition)">[W3C.REC-xml-20040204]</a>. </p><div id="rfc.figure.u.8"></div> <pre>appCommonAttributes =
   attribute xml:base { atomUri }?,
   attribute xml:lang { atomLanguageTag }?,
   undefinedAttribute*</pre> <h2 id="rfc.section.6.4"><a href="#rfc.section.6.4">6.4</a> RELAX NG Schema</h2><p id="rfc.section.6.4.p.1">Some sections of this specification are illustrated with fragments of a non-normative RELAX NG Compact schema <a href="#RNC" title="RELAX NG Compact Syntax">[RNC]</a>. A complete schema appears in <a href="#schema" title="RELAX NG Compact Schema">Appendix B</a>. However, the text of this specification provides the definition of conformance.</p><hr class="noprint"><h1 id="rfc.section.7" class="np"><a href="#rfc.section.7">7.</a> <a name="appdocs" href="#appdocs">Introspection Documents</a></h1><p id="rfc.section.7.p.1">For authoring to commence, a client needs to first discover the capabilities and locations of collections offered. This is done using Introspection Documents. An Introspection Document describes workspaces, which are server-defined groupings of collections.</p><p id="rfc.section.7.p.2">Introspection documents are identified with the "application/atomserv+xml" media type (see <a href="#iana" title="IANA Considerations">Section 15</a>).</p><p id="rfc.section.7.p.3">While an introspection document allows multiple workspaces, there is no requirement that a service support multiple workspaces. In addition, a collection MAY appear in more than one workspace.</p><h2 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1</a> <a name="appdocs_example" href="#appdocs_example">Example</a></h2><div id="rfc.figure.u.9"></div> <pre>
&lt;?xml version="1.0" encoding='utf-8'?&gt;
&lt;service xmlns="http://purl.org/atom/app#"&gt;
  &lt;workspace title="Main Site" &gt; 
    &lt;collection 
      title="My Blog Entries" 
      href="http://example.org/reilly/main" &gt;
      &lt;member-type&gt;entry&lt;/member-type&gt;
    &lt;/collection&gt;
    &lt;collection 
      title="Pictures" 
      href="http://example.org/reilly/pic" &gt;
      &lt;member-type&gt;media&lt;/member-type&gt;
    &lt;/collection&gt;
  &lt;/workspace&gt;
  &lt;workspace title="Side Bar Blog"&gt;
    &lt;collection title="Remaindered Links" 
      href="http://example.org/reilly/list" &gt;
      &lt;member-type&gt;entry&lt;/member-type&gt;
    &lt;/collection&gt;
  &lt;/workspace&gt;
&lt;/service&gt;
</pre> <p id="rfc.section.7.1.p.2">This Introspection Document describes two workspaces. The first, called "Main Site", has two collections called "My Blog Entries" and "Pictures" whose URIs are "http://example.org/reilly/main" and "http://example.org/reilly/pic" respectively. "My Blog Entries" is an Entry collection and "Pictures" is a Media collection. Entry and Media collections are discussed in <a href="#member-type" title='The "app:member-type" Element'>Section 7.2.4</a>.</p><p id="rfc.section.7.1.p.3">The second workspace is called "Side Bar Blog" and has a single collection called "Remaindered Links" whose collection URI is "http://example.org/reilly/list". "Remaindered Links" is an Entry collection.</p><h2 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2</a> <a name="service_document_elements" href="#service_document_elements">Element Definitions</a></h2><h3 id="rfc.section.7.2.1"><a href="#rfc.section.7.2.1">7.2.1</a> The "app:service" Element</h3><p id="rfc.section.7.2.1.p.1">The root of an introspection document is the "app:service" element.</p><p id="rfc.section.7.2.1.p.2">The "app:service" element is the container for introspection information associated with one or more workspaces. An app:service element MUST contain one or more app:workspace elements.</p><p id="rfc.section.7.2.1.p.3"> </p><div id="rfc.figure.u.10"></div> <pre>
namespace app = "http://purl.org/atom/app#" 
start = appService
             </pre> <p>  </p><div id="rfc.figure.u.11"></div> <pre>
appService =
   element app:service {
      appCommonAttributes,
      ( appWorkspace+ 
        &amp; extensionElement* )
   }</pre> <h3 id="rfc.section.7.2.2"><a href="#rfc.section.7.2.2">7.2.2</a> The "app:workspace" Element</h3><p id="rfc.section.7.2.2.p.1">The "app:workspace" element contains information elements about the collections of resources available for editing. The app:workspace element MUST contain one or more app:collection elements.</p><p id="rfc.section.7.2.2.p.2"> </p><div id="rfc.figure.u.12"></div> <pre>
appWorkspace =
   element app:workspace {
      appCommonAttributes,
      attribute title { text },
      ( appCollection+ 
        &amp; extensionElement* )
   }</pre> <p id="rfc.section.7.2.2.p.3">In an app:workspace element, the first app:collection element of each type MUST refer to the preferred or primary collection. In the following example, the "Entries" collection would be considered the preferred (or primary) entries collection of the workspace and the "Photos" collection would be considered the primary media collection: </p><div id="rfc.figure.u.13"></div> <pre>
   &lt;service&gt;
     &lt;workspace title="My Blog"&gt;
       &lt;collection title="Entries" 
            href="http://example.org/myblog/entries"&gt;
        &lt;member-type&gt;entry&lt;/member-type&gt; 
       &lt;/collection&gt;
       &lt;collection title="Photos" 
            href="http://example.org/myblog/fotes"&gt;
        &lt;member-type&gt;media&lt;/member-type&gt; 
       &lt;/collection&gt;
     &lt;/workspace&gt;
   &lt;/service&gt;           
              </pre> <h4 id="rfc.section.7.2.2.1"><a href="#rfc.section.7.2.2.1">7.2.2.1</a> The "title" Attribute</h4><p id="rfc.section.7.2.2.1.p.1">The app:workspace element MUST contain a "title" attribute, which gives a human-readable name for the workspace. This attribute is Language-Sensitive.</p><h3 id="rfc.section.7.2.3"><a href="#rfc.section.7.2.3">7.2.3</a> The "app:collection" Element</h3><p id="rfc.section.7.2.3.p.1">The "app:collection" describes an Atom Protocol collection. One child element is defined here for app:collection: "app:member-type".</p><p id="rfc.section.7.2.3.p.2"> </p><div id="rfc.figure.u.14"></div> <pre>
appCollection =
   element app:collection {
      appCommonAttributes,
      attribute title { text },
      attribute href { text },
      ( appMemberType
        &amp; appListTemplate
        &amp; extensionElement* )
   }</pre> <h4 id="rfc.section.7.2.3.1"><a href="#rfc.section.7.2.3.1">7.2.3.1</a> The "title" Attribute</h4><p id="rfc.section.7.2.3.1.p.1">The app:collection element MUST contain a "title" attribute, whose value gives a human-readable name for the collection. This attribute is Language-Sensitive.</p><h4 id="rfc.section.7.2.3.2"><a href="#rfc.section.7.2.3.2">7.2.3.2</a> The "href" Attribute</h4><p id="rfc.section.7.2.3.2.p.1">The app:collection element MUST contain a "href" attribute, whose value gives the IRI of the collection.</p><h3 id="rfc.section.7.2.4"><a href="#rfc.section.7.2.4">7.2.4</a> <a name="member-type" href="#member-type">The "app:member-type" Element</a></h3><p id="rfc.section.7.2.4.p.1">The app:collection element MUST contain one "app:member-type" element. The app:member-type element value specifies the types of members that can appear in the collection.</p><p id="rfc.section.7.2.4.p.2"> </p><div id="rfc.figure.u.15"></div> <pre>
appMemberType =
   element app:member-type {
         appCommonAttributes,
         ( appTypeValue )
   }
   
appTypeValue = "entry" | "media"</pre> <p id="rfc.section.7.2.4.p.3">This specification defines two values for the app:member-type element: </p><ul><li>"entry" - Indicates the collection contains only member resources whose representation MUST be an Atom Entry. Further constraints on the representations of members in a collection of type "entry" are listed in <a href="#author_entry" title="Entry Collections">Section 8.2</a>.</li><li>"media" - Indicates the collection contains member resources whose representation can be of any media type. Additional constraints are listed in <a href="#author_generic" title="Media Collections">Section 8.3</a>.</li></ul><hr class="noprint"><h1 id="rfc.section.8" class="np"><a href="#rfc.section.8">8.</a> <a name="collection_resource" href="#collection_resource">Collections</a></h1><h2 id="rfc.section.8.1"><a href="#rfc.section.8.1">8.1</a> Creating resources with POST</h2><p id="rfc.section.8.1.p.1">To add members to a collection, clients send POST requests to the collection's URI. Collections MAY impose constraints on the media-types that are created in a collection and MAY generate a response with a status code of 415 ("Unsupported Media Type"). On successful creation, the response to the POST request MUST return a Location: header with the URI of the newly created resource.</p><h3 id="rfc.section.8.1.1"><a href="#rfc.section.8.1.1">8.1.1</a> Example</h3><p id="rfc.section.8.1.1.p.1">Below, the client sends a POST request containing an Atom Entry representation to the URI of the Collection: </p><div id="rfc.figure.u.16"></div> <pre>
POST /myblog/entries HTTP/1.1
Host: example.org
User-Agent: Thingio/1.0
Content-Type: application/atom+xml
Content-Length: nnn

&lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
  &lt;title&gt;Atom-Powered Robots Run Amok&lt;/title&gt;
  &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;
  &lt;updated&gt;2003-12-13T18:30:02Z&lt;/updated&gt;
  &lt;content&gt;Some text.&lt;/content&gt;
&lt;/entry&gt;</pre> <p id="rfc.section.8.1.1.p.2">The server signals a successful creation with a status code of 201 and the response includes a 'Location' header indicating the URI of the Atom Entry. </p><div id="rfc.figure.u.17"></div> <pre>
HTTP/1.1 201 Created
Date: Fri, 7 Oct 2005 17:17:11 GMT
Content-Length: 0  
Location: http://example.org/edit/first-post.atom</pre> <h3 id="rfc.section.8.1.2"><a href="#rfc.section.8.1.2">8.1.2</a> Title: Header</h3><p id="rfc.section.8.1.2.p.1">A POST to a Media Collection creating a resource SHOULD contain a Title: header that indicates the client's suggested title for the resource: </p><div id="rfc.figure.u.18"></div> <pre>
  POST /myblog/fotes HTTP/1.1
  Host: example.org
  User-Agent: Thingio/1.0
  Content-Type: image/png
  Content-Length: nnnn
  Title: An Atom-Powered Robot

  ...binary data...
  
  </pre><p> The server MAY ignore the content of the Title: header or modify the suggested title.</p><div id="rfc.figure.u.19"></div> <pre>
Title = "Title" ":" [TEXT] 

</pre> <p id="rfc.section.8.1.2.p.3">The syntax of this header MUST conform to the augmented BNF grammar in section 2.1 of the HTTP/1.1 specification <a href="#RFC2616" title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</a>. The [TEXT] rule is described in section 2.2 of the same document. Words of *TEXT MAY contain characters from character sets other than <a href="#ISO88591" title="International Standard -- Information Processing -- 8-bit Single-Byte Coded Graphic Character Sets -- Part 1: Latin alphabet No. 1,">[ISO88591]</a> [ISO-8859-1] only when encoded according to the rules of <a href="#RFC2047" title="MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text">[RFC2047]</a> [RFC2047].</p><h2 id="rfc.section.8.2"><a href="#rfc.section.8.2">8.2</a> <a name="author_entry" href="#author_entry">Entry Collections</a></h2><p id="rfc.section.8.2.p.1">Entry Collections are collections that restrict their membership to Atom Entries. They are identified by having an app:member-type of "entry". Every member representation MAY contain an atom:link element with a link relation of "edit" that contains the IRI of the member resource. Member representations MAY contain a <a href="#pub-control">pub:control element</a>.</p><h3 id="rfc.section.8.2.1"><a href="#rfc.section.8.2.1">8.2.1</a> <a name="edit_fm" href="#edit_fm">Editing entries with foreign markup</a></h3><p id="rfc.section.8.2.1.p.1">To avoid unintentional loss of data when editing entry collection members, Atom Protocol clients SHOULD preserve all metadata, including unknown foreign markup, that has not been intentionally modified.</p><h2 id="rfc.section.8.3"><a href="#rfc.section.8.3">8.3</a> <a name="author_generic" href="#author_generic">Media Collections</a></h2><p id="rfc.section.8.3.p.1">Media Collections are collections whose member representations are not constrained. They are identified by having an app:member-type of "media".</p><h3 id="rfc.section.8.3.1"><a href="#rfc.section.8.3.1">8.3.1</a> Editing Media Resources</h3><p id="rfc.section.8.3.1.p.1">When listing the contents of a Media Collection, every Entry in the Atom Feed Document MUST have an atom:content element with a "src" attribute containing the IRI of the media resource itself. This value may be used to update and delete resources as described in <a href="#edit" title="Editing a Resource">Section 5.3</a>. When creating a public, read-only reference to the member resource, a client SHOULD use this value.</p><h3 id="rfc.section.8.3.2"><a href="#rfc.section.8.3.2">8.3.2</a> Editing Media Metadata</h3><p id="rfc.section.8.3.2.p.1">Entries in a Media Collection MAY contain an atom:link element with a link relation of "edit" that contains the IRI of an Atom Entry document representing the metadata of the member resource. A client MAY use this to edit the metadata associated with the resource.</p><hr class="noprint"><h1 id="rfc.section.9" class="np"><a href="#rfc.section.9">9.</a> <a name="templates" href="#templates">Listing Collections</a></h1><p id="rfc.section.9.p.1">Collection resources MUST provide representations in the form of Atom Feed documents. Each entry in the Feed Document MUST have an atom:link element with a relation of "edit" (See Section 10.1).</p><p id="rfc.section.9.p.2">The entries in the returned Atom Feed MUST be ordered by their "atom:updated" property, with the most recently updated entries coming first in the document order. Clients SHOULD be constructed in consideration that changes which do not alter the entry's atom:updated value will not affect the position of the entry in a collection.</p><p id="rfc.section.9.p.3">Clients MUST NOT assume that an Atom Entry returned in the Feed is a full representation of a member resource and SHOULD perform a GET on the member resource before editing.</p><p id="rfc.section.9.p.4">Collections can contain large numbers of resources. A naive client such as a web spider or web browser could be overwhelmed if the response to a GET contained every entry in the collection, and the server would waste large amounts of bandwidth and processing time on clients unable to handle the response. For this reason, servers MAY return a partial listing containing the most recently updated member resources. Such partial feed documents MUST have an atom:link with a "next" relation whose "href" value is the URI of the next partial listing of the collection (the least recently updated member resources) where it exists. This is called "collection paging".</p><h2 id="rfc.section.9.1"><a href="#rfc.section.9.1">9.1</a> Collection Paging</h2><p id="rfc.section.9.1.p.1">Atom Protocol servers MUST provide representations of collections as Atom feed documents whose entries represent the collection's members. The returned Atom feed MAY NOT contain entries for all the collection's members. Instead, the Atom feed document MAY contain link elements with "rel" attribute values of "next", "previous", "first" and "last" that can be used to navigate through the complete set of matching entries.</p><p id="rfc.section.9.1.p.2">For instance, suppose a client is supplied the URI "http://example.org/entries/go" of a collection of member entries, where the server as a matter of policy avoids generating feed documents containing more than 10 entries. The Atom feed document for the collection will then represent the first 'page' in a set of 10 linked feed documents. The "first" relation will reference the initial feed document in the set and the "last" relation references the final feed document in the set. Within each document, the "next" and "previous" link relations reference the preceding and subsequent documents. </p><div id="rfc.figure.u.20"></div> <pre>
  &lt;feed xmlns="http://www.w3.org/2005/Atom"&gt;
    &lt;link rel="first"
          href="http://example.org/entries/go" /&gt;
    &lt;link rel="next"
          href="http://example.org/entries/2" /&gt;
    &lt;link rel="last"
          href="http://example.org/entries/10" /&gt;
    ...      
  &lt;/feed&gt;
</pre> <p id="rfc.section.9.1.p.3">The "next" and "previous" link elements for the feed 'page' located at "http://example.org/entries/2" would look like this: </p><div id="rfc.figure.u.21"></div> <pre>
  &lt;feed xmlns="http://www.w3.org/2005/Atom"&gt;
    &lt;link rel="first"
          href="http://example.org/entries/go" /&gt;
    &lt;link rel="previous"
          href="http://example.org/entries/go" /&gt;
    &lt;link rel="next"
          href="http://example.org/entries/3" /&gt;
    &lt;link rel="last"
          href="http://example.org/entries/10" /&gt;
    ...          
  &lt;/feed&gt;
</pre> <hr class="noprint"><h1 id="rfc.section.10" class="np"><a href="#rfc.section.10">10.</a> <a name="atom-entry-extensions" href="#atom-entry-extensions">Atom Format Link Relation Extensions</a></h1><h2 id="rfc.section.10.1"><a href="#rfc.section.10.1">10.1</a> <a name="new-link-relation" href="#new-link-relation">The "edit" Link Relation</a></h2><p id="rfc.section.10.1.p.1">The Atom Protocol adds the value "edit" to the Atom Registry of Link Relations (see section 7.1 of <a href="#RFC4287" title="The Atom Syndication Format">[RFC4287]</a>). The value of "edit" specifies that the IRI in the value of the href attribute is the IRI of an editable Atom Entry Document associated with a resource. In a Media Collection this IRI may be used to update the metadata associated with a Media Resource. In an Entry Collection this IRI may be used to update and delete the member resource itself. The link relation MAY appear in Atom Entry representations as well as Entry and Media Collections.</p><hr class="noprint"><h1 id="rfc.section.11" class="np"><a href="#rfc.section.11">11.</a> <a name="pub-control" href="#pub-control">Atom Publishing Control Extensions</a></h1><h2 id="rfc.section.11.1"><a href="#rfc.section.11.1">11.1</a> The Atom Publishing Control Namespace</h2><p id="rfc.section.11.1.p.1">This specification defines an Atom Format extension for publishing control called Atom Publishing Control. The namespace name for the Atom Publishing Control's XML vocabulary is "http://example.net/appns/". This specification uses "pub:" for the namespace prefix. The choice of namespace prefix is not semantically significant.</p><h2 id="rfc.section.11.2"><a href="#rfc.section.11.2">11.2</a> The "pub:control" Element</h2><div id="rfc.figure.u.22"></div> <pre>
namespace pub = "http://example.net/appns/" 

 pubControl =
    element pub:control {
    atomCommonAttributes,
    pubDraft?
    &amp; extensionElement
 }

 pubDraft =
   element pub:draft { "yes" | "no" }</pre> <p id="rfc.section.11.2.p.2">The "pub:control" element MAY appear as a child of an "atom:entry" which is being created or updated via the Atom Publishing Protocol. The "pub:control" element, if it does appear in an entry, MUST only appear at most one time. The "pub:control" element is considered foreign markup as defined in Section 6 of <a href="#RFC4287" title="The Atom Syndication Format">[RFC4287]</a>.</p><p id="rfc.section.11.2.p.3">The "pub:control" element and its child elements MAY be included in Atom Feed or Entry Documents.</p><p id="rfc.section.11.2.p.4">The "pub:control" element MAY contain exactly one "pub:draft" element as defined here, and MAY contain zero or more extension elements as outlined in Section 6 of <a href="#RFC4287" title="The Atom Syndication Format">[RFC4287]</a>. Both clients and servers MUST ignore foreign markup present in the pub:control element.</p><h3 id="rfc.section.11.2.1"><a href="#rfc.section.11.2.1">11.2.1</a> The "pub:draft" Element</h3><p id="rfc.section.11.2.1.p.1">The number of "pub:draft" elements in "pub:control" MUST be zero or one. Its value MUST be one of "yes" or "no". A value of "no" means that the entry MAY be made publicly visible. If the "pub:draft" element is missing then the value MUST be understood to be "no". The pub:draft element MAY be ignored.</p><hr class="noprint"><h1 id="rfc.section.12" class="np"><a href="#rfc.section.12">12.</a> Atom Publishing Protocol Example</h1><p id="rfc.section.12.p.1">This is an example of a client creating a new entry with an image. The client has an image to publish and an entry that includes an HTML "img" element that uses that image. In this scenario we consider a client that has IRIs of two collections, an entry collection and a media collection, both of which were discovered through an introspection document. The IRI of the entry collection is:</p><div id="rfc.figure.u.23"></div> <pre>
http://example.net/blog/edit/</pre> <p id="rfc.section.12.p.3">The IRI of the media collection is:</p><div id="rfc.figure.u.24"></div> <pre>
http://example.net/binary/edit</pre> <p id="rfc.section.12.p.5">First the client creates a new image resource by POSTing the image to the IRI of the media collection.</p><div id="rfc.figure.u.25"></div> <pre>
POST /binary/edit/ HTTP/1.1
Host: example.net
User-Agent: Thingio/1.0
Content-Type: image/png
Content-Length: nnnn
Title: A picture of the beach

...binary data...</pre><p id="rfc.section.12.p.7">The member resource is created and an HTTP status code of 201 is returned.</p><div id="rfc.figure.u.26"></div> <pre>
HTTP/1.1 201 Created
Date: Fri, 25 Mar 2005 17:17:11 GMT
Content-Length: nnnn
Content-Type: application/atom+xml
Location: http://example.net/binary/edit/b/129.png

&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
    &lt;title&gt;A picture of the beach&lt;/title&gt;
    &lt;link rel="edit" 
        href="http://example.net/binary/edit/b/129.png"/&gt;
    &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-568596895695&lt;/id&gt;
    &lt;updated&gt;2005-09-02T10:30:00Z&lt;/updated&gt;
    &lt;summary&gt;Waves&lt;/summary&gt;
    &lt;content type="image/png" 
        src="http://example.net/binary/readonly/129.png"/&gt;
&lt;/entry&gt;</pre> <p id="rfc.section.12.p.9">The client then POSTs the Atom Entry that refers to the newly created image resource. Note that the client takes the URI http://example.net/binary/readonly/129.png and uses it in the 'img' element in the Entry content:</p><div id="rfc.figure.u.27"></div> <pre>
POST  /blog/edit/ HTTP/1.1
Host: example.net
User-Agent: Thingio/1.0
Content-Type: application/atom+xml
Content-Length: nnnn

&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
    &lt;title&gt;What I did on my summer vacation&lt;/title&gt;
    &lt;link href="http://example.org/atom05"/&gt;
    &lt;id&gt;urn:uuid:1225c695-ffb8-4ebb-aaaa-80da354efa6a&lt;/id&gt;
    &lt;updated&gt;2005-09-02T10:30:00Z&lt;/updated&gt;
    &lt;summary&gt;Beach!&lt;/summary&gt;
    &lt;content type="xhtml" xml:lang="en"&gt;
        &lt;div xmlns="http://www.w3.org/1999/xhtml"&gt;
            &lt;p&gt;We went to the beach for summer vacation.
                Here is a picture of the waves rolling in:
                &lt;img 
                    src="http://example.net/binary/readonly/129.png" 
                    alt="A picture of the beach"
                    /&gt;
            &lt;/p&gt;
        &lt;/div&gt;
    &lt;/content&gt;   
&lt;/entry&gt;</pre> <hr class="noprint"><h1 id="rfc.section.13" class="np"><a href="#rfc.section.13">13.</a> Securing the Atom Protocol</h1><p id="rfc.section.13.p.1">All instances of publishing Atom Format entries SHOULD be protected by authentication to prevent posting or editing by unknown sources. Atom Protocol servers and clients MUST support one of the following authentication mechanisms, and SHOULD support both.</p><p id="rfc.section.13.p.2"> </p><ul><li>HTTP Digest Authentication <a href="#RFC2617" title="HTTP Authentication: Basic and Digest Access Authentication">[RFC2617]</a></li><li>CGI Authentication</li></ul><p id="rfc.section.13.p.3">Atom Protocol servers and clients MAY support encryption of the session using TLS (see <a href="#RFC2246" title="The TLS Protocol Version 1.0">[RFC2246]</a>).</p><p id="rfc.section.13.p.4">There are cases where an authentication mechanism might not be required, such as a publicly editable Wiki, or when using POST to send comments to a site that does not require authentication from a commenter.</p><h2 id="rfc.section.13.1"><a href="#rfc.section.13.1">13.1</a> CGI Authentication</h2><p id="rfc.section.13.1.p.1"> <span class="comment">[rfc.comment.1: note: this section is incomplete; cgi-authentication is described
            but is unspecified.]</span> This authentication method is included as part of the protocol to allow Atom Protocol servers and clients that cannot use HTTP Digest Authentication but where the user can both insert its own HTTP headers and create a CGI program to authenticate entries to the server. This scenario is common in environments where the user cannot control what services the server employs, but the user can write their own HTTP services.</p><hr class="noprint"><h1 id="rfc.section.14" class="np"><a href="#rfc.section.14">14.</a> Security Considerations</h1><p id="rfc.section.14.p.1">The security of the Atom Protocol is based on HTTP Digest Authentication and/or CGI Authentication <span class="comment">[rfc.comment.2: note: refers to incomplete
          section]</span>. Any weaknesses in either of these authentication schemes will affect the security of the Atom Publishing Protocol.</p><p id="rfc.section.14.p.2">Both HTTP Digest Authentication and CGI Authentication <span class="comment">[rfc.comment.3: note: refers
        to incomplete section]</span> are susceptible to dictionary-based attacks on the shared secret. If the shared secret is a password (instead of a random string with sufficient entropy), an attacker can determine the secret by exhaustively comparing the authenticating string with hashed results of the public string and dictionary entries.</p><p id="rfc.section.14.p.3">See <a href="#RFC2617" title="HTTP Authentication: Basic and Digest Access Authentication">[RFC2617]</a> for the description of the security properties of HTTP Digest Authentication.</p><p id="rfc.section.14.p.4"> <span class="comment">[rfc.comment.4: expand on HTTP basic and digest authentication, or refer.]</span> </p><p id="rfc.section.14.p.5"><span class="comment">[rfc.comment.5: note: talk here about denial of service attacks using large XML
        files, or the billion laughs DTD attack.]</span> </p><hr class="noprint"><h1 id="rfc.section.15" class="np"><a href="#rfc.section.15">15.</a> <a name="iana" href="#iana">IANA Considerations</a></h1><p id="rfc.section.15.p.1">An Atom Publishing Protocol Introspection Document, when serialized as XML 1.0, can be identified with the following media type:</p><p id="rfc.section.15.p.2"> </p><dl><dt style="margin-top: .5em">MIME media type name:</dt><dd>application</dd><dt style="margin-top: .5em">MIME subtype name:</dt><dd>atomserv+xml</dd><dt style="margin-top: .5em">Mandatory parameters:</dt><dd>None.</dd><dt style="margin-top: .5em">Optional parameters:</dt><dd> <dl><dt style="margin-top: .5em">"charset":</dt><dd>This parameter has identical semantics to the charset parameter of the "application/xml" media type as specified in <a href="#RFC3023" title="XML Media Types">[RFC3023]</a>.</dd></dl> </dd><dt style="margin-top: .5em">Encoding considerations:</dt><dd>Identical to those of "application/xml" as described in <a href="#RFC3023" title="XML Media Types">[RFC3023]</a>, section 3.2.</dd><dt style="margin-top: .5em">Security considerations:</dt><dd>As defined in this specification. <span class="comment">[rfc.comment.6: update upon publication]</span></dd><dt style="margin-top: .5em"></dt><dd>In addition, as this media type uses the "+xml" convention, it shares the same security considerations as described in <a href="#RFC3023" title="XML Media Types">[RFC3023]</a>, section 10.</dd><dt style="margin-top: .5em">Interoperability considerations:</dt><dd>There are no known interoperability issues.</dd><dt style="margin-top: .5em">Published specification:</dt><dd>This specification. <span class="comment">[rfc.comment.7: update upon publication]</span></dd><dt style="margin-top: .5em">Applications that use this media type:</dt><dd>No known applications currently use this media type.</dd></dl><p id="rfc.section.15.p.3">Additional information:</p><p id="rfc.section.15.p.4"> </p><dl><dt style="margin-top: .5em">Magic number(s):</dt><dd>As specified for "application/xml" in <a href="#RFC3023" title="XML Media Types">[RFC3023]</a>, section 3.2.</dd><dt style="margin-top: .5em">File extension:</dt><dd>.atomsrv</dd><dt style="margin-top: .5em">Fragment identifiers:</dt><dd>As specified for "application/xml" in <a href="#RFC3023" title="XML Media Types">[RFC3023]</a>, section 5.</dd><dt style="margin-top: .5em">Base URI:</dt><dd>As specified in <a href="#RFC3023" title="XML Media Types">[RFC3023]</a>, section 6.</dd><dt style="margin-top: .5em">Macintosh File Type code:</dt><dd>TEXT</dd><dt style="margin-top: .5em">Person and email address to contact for further information:</dt><dd>Joe Gregorio &lt;joe@bitworking.org&gt;</dd><dt style="margin-top: .5em">Intended usage:</dt><dd>COMMON</dd><dt style="margin-top: .5em">Author/Change controller:</dt><dd>This specification's author(s). <span class="comment">[rfc.comment.8: update upon publication]</span></dd></dl><hr class="noprint"><h1 id="rfc.references" class="np"><a name="rfc.section.16" href="#rfc.section.16">16.</a> <a href="#rfc.references">References</a></h1><h2 class="np" id="rfc.references.1"><a name="rfc.references.1"></a><a href="#rfc.section.16.1">16.1</a> Normative References</h2><table summary="Normative References" border="0" cellpadding="2">                            <tr><td class="topnowrap"><b><a name="ISO88591">[ISO88591]</a></b></td><td class="top">ISO, &#8220;International Standard -- Information Processing -- 8-bit Single-Byte Coded Graphic Character Sets -- Part 1: Latin alphabet No. 1,&#8221;, January 1987.</td></tr><tr><td class="topnowrap"><b><a name="RFC2047">[RFC2047]</a></b></td><td class="top">Moore, K., &#8220;<a href="http://www.ietf.org/rfc/rfc2047.txt">MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text</a>&#8221;, RFC 2047, November 1996.</td></tr><tr><td class="topnowrap"><b><a name="RFC2119">[RFC2119]</a></b></td><td class="top"><a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, &#8220;<a href="http://www.ietf.org/rfc/rfc2119.txt">Key words for use in RFCs to Indicate Requirement Levels</a>&#8221;, BCP 14, RFC 2119, March 1997.</td></tr><tr><td class="topnowrap"><b><a name="RFC2246">[RFC2246]</a></b></td><td class="top"><a href="mailto:tdierks@certicom.com" title="Certicom">Dierks, T.</a> and <a href="mailto:callen@certicom.com" title="Certicom">C. Allen</a>, &#8220;<a href="http://www.ietf.org/rfc/rfc2246.txt">The TLS Protocol Version 1.0</a>&#8221;, RFC 2246, January 1999.</td></tr><tr><td class="topnowrap"><b><a name="RFC2616">[RFC2616]</a></b></td><td class="top"><a href="mailto:fielding@ics.uci.edu" title="Department of Information and Computer Science">Fielding, R.</a>, <a href="mailto:jg@w3.org" title="World Wide Web Consortium">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com" title="Compaq Computer Corporation">Mogul, J.</a>, <a href="mailto:frystyk@w3.org" title="World Wide Web Consortium">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com" title="Xerox Corporation">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.</a>, and <a href="mailto:timbl@w3.org" title="World Wide Web Consortium">T. Berners-Lee</a>, &#8220;<a href="http://www.ietf.org/rfc/rfc2616.txt">Hypertext Transfer Protocol -- HTTP/1.1</a>&#8221;, RFC 2616, June 1999.</td></tr><tr><td class="topnowrap"><b><a name="RFC2617">[RFC2617]</a></b></td><td class="top"><a href="mailto:john@math.nwu.edu" title="Northwestern University, Department of Mathematics">Franks, J.</a>, <a href="mailto:pbaker@verisign.com" title="Verisign Inc.">Hallam-Baker, P.M.</a>, <a href="mailto:jeff@AbiSource.com" title="AbiSource, Inc.">Hostetler, J.L.</a>, <a href="mailto:lawrence@agranat.com" title="Agranat Systems, Inc.">Lawrence, S.D.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.J.</a>, Luotonen, A., and <a href="mailto:stewart@OpenMarket.com" title="Open Market, Inc.">L. Stewart</a>, &#8220;<a href="http://www.ietf.org/rfc/rfc2617.txt">HTTP Authentication: Basic and Digest Access Authentication</a>&#8221;, RFC 2617, June 1999.</td></tr><tr><td class="topnowrap"><b><a name="RFC3023">[RFC3023]</a></b></td><td class="top">Murata, M., St. Laurent, S., and D. Kohn, &#8220;<a href="http://www.ietf.org/rfc/rfc3023.txt">XML Media Types</a>&#8221;, RFC 3023, January 2001.</td></tr><tr><td class="topnowrap"><b><a name="RFC3986">[RFC3986]</a></b></td><td class="top">Berners-Lee, T., Fielding, R., and L. Masinter, &#8220;<a href="http://www.ietf.org/rfc/rfc3986.txt">Uniform Resource Identifier (URI): Generic Syntax</a>&#8221;, STD 66, RFC 3986, January 2005.</td></tr><tr><td class="topnowrap"><b><a name="RFC3987">[RFC3987]</a></b></td><td class="top">Duerst, M. and M. Suignard, &#8220;<a href="http://www.ietf.org/rfc/rfc3987.txt">Internationalized Resource Identifiers (IRIs)</a>&#8221;, RFC 3987, January 2005.</td></tr><tr><td class="topnowrap"><b><a name="RFC4287">[RFC4287]</a></b></td><td class="top">Nottingham, M. and R. Sayre, &#8220;<a href="http://www.ietf.org/rfc/rfc4287.txt">The Atom Syndication Format</a>&#8221;, RFC 4287, December 2005.</td></tr><tr><td class="topnowrap"><b><a name="W3C.REC-xml-20040204">[W3C.REC-xml-20040204]</a></b></td><td class="top">Yergeau, F, Paoli, J, Sperberg-McQueen, C, Bray, T, and E Maler, &#8220;Extensible Markup Language (XML) 1.0 (Third Edition)&#8221;, W3C REC REC-xml-20040204, February 2004.</td></tr><tr><td class="topnowrap"><b><a name="W3C.REC-xml-infoset-20040204">[W3C.REC-xml-infoset-20040204]</a></b></td><td class="top">Cowan, J, Tobin, R, and A Layman, &#8220;XML Information Set (Second Edition)&#8221;, W3C REC W3C.REC-xml-infoset-20040204, February 2004.</td></tr><tr><td class="topnowrap"><b><a name="W3C.REC-xml-names-19990114">[W3C.REC-xml-names-19990114]</a></b></td><td class="top">Hollander, D, Bray, T, and A Layman, &#8220;Namespaces in XML&#8221;, W3C REC REC-xml-names-19990114, January 1999.</td></tr><tr><td class="topnowrap"><b><a name="W3C.REC-xmlbase-20010627">[W3C.REC-xmlbase-20010627]</a></b></td><td class="top">Marsh, J, &#8220;XML Base&#8221;, W3C REC W3C.REC-xmlbase-20010627, June 2001.</td></tr></table><h2 id="rfc.references.2"><a name="rfc.references.2"></a><a href="#rfc.section.16.2">16.2</a> Informative References</h2><table summary="Informative References" border="0" cellpadding="2">    <tr><td class="topnowrap"><b><a name="RNC">[RNC]</a></b></td><td class="top">Clark, J., &#8220;RELAX NG Compact Syntax&#8221;, December 2001.</td></tr><tr><td class="topnowrap"><b><a name="W3C.REC-webarch-20041215">[W3C.REC-webarch-20041215]</a></b></td><td class="top">Walsh, N and I Jacobs, &#8220;Architecture of the World Wide Web, Volume One&#8221;, W3C REC REC-webarch-20041215, December 2004.</td></tr></table><hr class="noprint"><h1 id="rfc.authors" class="np">Authors' Addresses</h1><address class="vcard"><span class="vcardline"><span class="fn">Joe Gregorio</span>
          (editor)
        <span class="n" style="display: none"><span class="Family-Name">Gregorio</span><span class="Given-Name">Joe</span></span></span><span class="org vcardline">BitWorking, Inc</span><span class="adr vcardline"><span class="street Street-Address vcardline">1002 Heathwood Dairy Rd.</span><span class="vcardline"><span class="Locality">Apex</span>, <span class="Region">NC</span> <span class="Postal-Code">27502</span></span><span class="Country vcardline">US</span></span><span class="vcardline">Phone: <a href="tel:+19192723764"><span class="tel"><span class="voice">+1 919 272 3764</span></span></a></span><span class="vcardline">EMail: <a href="mailto:joe@bitworking.com"><span class="email">joe@bitworking.com</span></a></span><span class="vcardline">URI: <a href="http://bitworking.com/" class="url">http://bitworking.com/</a></span></address><address class="vcard"><span class="vcardline"><span class="fn">Bill de hOra</span>
          (editor)
        <span class="n" style="display: none"><span class="Family-Name">de hOra</span><span class="Given-Name">Bill</span></span></span><span class="org vcardline">Propylon Ltd.</span><span class="adr vcardline"><span class="street Street-Address vcardline">45 Blackbourne Square, Rathfarnham Gate</span><span class="vcardline"><span class="Locality">Dublin</span>, <span class="Region">Dublin</span> <span class="Postal-Code">D14</span></span><span class="Country vcardline">IE</span></span><span class="vcardline">Phone: <a href="tel:+353-1-4927444"><span class="tel"><span class="voice">+353-1-4927444</span></span></a></span><span class="vcardline">EMail: <a href="mailto:bill.dehora@propylon.com"><span class="email">bill.dehora@propylon.com</span></a></span><span class="vcardline">URI: <a href="http://www.propylon.com/" class="url">http://www.propylon.com/</a></span></address><hr class="noprint"><h1 id="rfc.section.A" class="np"><a href="#rfc.section.A">A.</a> Contributors</h1><p id="rfc.section.A.p.1">The content and concepts within are a product of the Atom community and the Atompub Working Group.</p><hr class="noprint"><h1 id="rfc.section.B" class="np"><a href="#rfc.section.B">B.</a> <a name="schema" href="#schema">RELAX NG Compact Schema</a></h1><p id="rfc.section.B.p.1">This appendix is informative.</p><p id="rfc.section.B.p.2">The Relax NG schema explicitly excludes elements in the Atom Protocol namespace which are not defined in this revision of the specification. Requirements for Atom Protocol processors encountering such markup are given in Section 6.2 and Section 6.3 of <a href="#RFC4287" title="The Atom Syndication Format">[RFC4287]</a>.</p><div id="rfc.figure.u.28"></div> <pre>
# -*- rnc -*-
# RELAX NG Compact Syntax Grammar for the Atom Protocol 

namespace app = "http://purl.org/atom/app#" 
namespace local = ""

start = appService 

# common:attrs

appCommonAttributes =
   attribute xml:base { atomUri }?,
   attribute xml:lang { atomLanguageTag }?,
   undefinedAttribute*

undefinedAttribute =
  attribute * - (xml:base | xml:lang | local:*) { text }

atomUri = text

atomLanguageTag = xsd:string {
   pattern = "[A-Za-z]{1,8}(-[A-Za-z0-9]{1,8})*"
}

# app:service

appService =
   element app:service {
      appCommonAttributes,
      ( appWorkspace+ 
        &amp; extensionElement* )
   }

# app:workspace

appWorkspace =
   element app:workspace {
      appCommonAttributes,
      attribute title { text },
      ( appCollection+ 
        &amp; extensionElement* )
   }

# app:collection

appCollection =
   element app:collection {
      appCommonAttributes,
      attribute title { text },
      attribute href { atomUri  },
      ( appMemberType
        &amp; extensionElement* )
   }


# app:member

appMemberType =
   element app:member-type {
         appCommonAttributes,
         ( appTypeValue )
   }
   
appTypeValue = "entry" | "media"    
      

# Simple Extension

simpleExtensionElement =
   element * - app:* {
      text
   }

# Structured Extension

structuredExtensionElement =
   element * - app:* {
      (attribute * { text }+,
         (text|anyElement)*)
    | (attribute * { text }*,
       (text?, anyElement+, (text|anyElement)*))
   }

# Other Extensibility

extensionElement =
   simpleExtensionElement | structuredExtensionElement
                 


# Extensions

anyElement =
   element * {
      (attribute * { text }
       | text
       | anyElement)*
   }
                 
# EOF
</pre> <hr class="noprint"><h1 id="rfc.section.C" class="np"><a href="#rfc.section.C">C.</a> Revision History</h1><p id="rfc.section.C.p.1">draft-ietf-atompub-protocol-08: added infoset ref; added wording re IRI/URI; fixed URI/IRI ; next/previous fixed as per Atom LinkRelations Attribute (http://www.imc.org/atom-protocol/mail-archive/msg04095.html); incorporated: PaceEditLinkMustToMay; PaceMissingDraftHasNoMeaning, PaceRemoveMemberTypeMust, PaceRemoveMemberTypePostMust, PaceTitleHeaderOnlyInMediaCollections, PacePreserveForeignMarkup, PaceClarifyTitleHeader, PaceClarifyMediaResourceLinks, PaceTwoPrimaryCollections;</p><p id="rfc.section.C.p.2">draft-ietf-atompub-protocol-07: updated Atom refs to RFC4287; incorporated PaceBetterHttpResponseCode; PaceClarifyCollectionAndDeleteMethodByWritingLessInsteadOfMore; PaceRemoveAcceptPostText; PaceRemoveListTemplate2; PaceRemoveRegistry; PaceRemoveWhoWritesWhat; PaceSimplifyClarifyBetterfyRemoveBogusValidityText; PaceCollectionOrderSignificance; PaceFixLostIntrospectionText; PaceListPaging; PaceCollectionControl; element typo in Listing collections para3 (was app:member-type, not app:list-template); changed post atom entry example to be valid. Dropped inline use of 'APP'. Removed nested diagram from section 4. Added ed notes in the security section.</p><p id="rfc.section.C.p.3">draft-ietf-atompub-protocol-06 - Removed: Robert Sayre from the contributors section per his request. Added in PaceCollectionControl. Fixed all the {daterange} verbage and examples so they all use a dash. Added full rnc schema. Collapsed Introspection and Collection documents into a single document. Removed {dateRange} queries. Renamed search to list. Moved discussion of media and entry collection until later in the document and tied the discussion to the Introspection element app:member-type.</p><p id="rfc.section.C.p.4">draft-ietf-atompub-protocol-05 - Added: Contributors section. Added: de hOra to editors. Fixed: typos. Added diagrams and description to model section. Incorporates PaceAppDocuments, PaceAppDocuments2, PaceSimplifyCollections2 (large-sized chunks of it anyhow: the notions of Entry and Generic resources, the section 4 language on the Protocol Model, 4.1 through 4.5.2, the notion of a Collection document, as in Section 5 through 5.3, Section 7 "Collection resources", Selection resources (modified from pace which talked about search); results in major mods to Collection Documents, Section 9.2 "Title: Header" and brokeout para to section 9.1 Editing Generic Resources). Added XML namespace and language section. Some cleanup of front matter. Added Language Sensitivity to some attributes. Removed resource descriptions from terminology. Some juggling of sections. See: http://www.imc.org/atom-protocol/mail-archive/msg01812.html.</p><p id="rfc.section.C.p.5">draft-ietf-atompub-protocol-04 - Add ladder diagrams, reorganize, add SOAP interactions</p><p id="rfc.section.C.p.6">draft-ietf-atompub-protocol-03 - Incorporates PaceSliceAndDice3 and PaceIntrospection.</p><p id="rfc.section.C.p.7">draft-ietf-atompub-protocol-02 - Incorporates Pace409Response, PacePostLocationMust, and PaceSimpleResourcePosting.</p><p id="rfc.section.C.p.8">draft-ietf-atompub-protocol-01 - Added in sections on Responses for the EditURI. Allow 2xx for response to EditURI PUTs. Elided all mentions of WSSE. Started adding in some normative references. Added the section "Securing the Atom Protocol". Clarified that it is possible that the PostURI and FeedURI could be the same URI. Cleaned up descriptions for Response codes 400 and 500.</p><p id="rfc.section.C.p.9">Rev draft-ietf-atompub-protocol-00 - 5Jul2004 - Renamed the file and re-titled the document to conform to IETF submission guidelines. Changed MIME type to match the one selected for the Atom format. Numerous typographical fixes. We used to have two 'Introduction' sections. One of them was moved into the Abstract the other absorbed the Scope section. IPR and copyright notifications were added.</p><p id="rfc.section.C.p.10">Rev 09 - 10Dec2003 - Added the section on SOAP enabled clients and servers.</p><p id="rfc.section.C.p.11">Rev 08 - 01Dec2003 - Refactored the specification, merging the Introspection file into the feed format. Also dropped the distinction between the type of URI used to create new entries and the kind used to create comments. Dropped user preferences.</p><p id="rfc.section.C.p.12">Rev 07 - 06Aug2003 - Removed the use of the RSD file for auto-discovery. Changed copyright until a final standards body is chosen. Changed query parameters for the search facet to all begin with atom- to avoid name collisions. Updated all the Entries to follow the 0.2 version. Changed the format of the search results and template file to a pure element based syntax.</p><p id="rfc.section.C.p.13">Rev 06 - 24Jul2003 - Moved to PUT for updating Entries. Changed all the mime-types to application/x.atom+xml. Added template editing. Changed 'edit-entry' to 'create-entry' in the Introspection file to more accurately reflect its purpose.</p><p id="rfc.section.C.p.14">Rev 05 - 17Jul2003 - Renamed everything Echo into Atom. Added version numbers in the Revision history. Changed all the mime-types to application/atom+xml.</p><p id="rfc.section.C.p.15">Rev 04 - 15Jul2003 - Updated the RSD version used from 0.7 to 1.0. Change the method of deleting an Entry from POSTing &lt;delete/&gt; to using the HTTP DELETE verb. Also changed the query interface to GET instead of POST. Moved Introspection Discovery to be up under Introspection. Introduced the term 'facet' for the services listed in the Introspection file.</p><p id="rfc.section.C.p.16">Rev 03 - 10Jul2003 - Added a link to the Wiki near the front of the document. Added a section on finding an Entry. Retrieving an Entry now broken out into its own section. Changed the HTTP status code for a successful editing of an Entry to 205.</p><p id="rfc.section.C.p.17">Rev 02 - 7Jul2003 - Entries are no longer returned from POSTs, instead they are retrieved via GET. Cleaned up figure titles, as they are rendered poorly in HTML. All content-types have been changed to application/atom+xml.</p><p id="rfc.section.C.p.18">Rev 01 - 5Jul2003 - Renamed from EchoAPI.html to follow the more commonly used format: draft-gregorio-NN.html. Renamed all references to URL to URI. Broke out introspection into its own section. Added the Revision History section. Added more to the warning that the example URIs are not normative.</p><hr class="noprint"><h1 class="np"><a name="rfc.ipr" href="#rfc.ipr">Intellectual Property Statement</a></h1><p>The IETF takes no position regarding the validity or scope of any Intellectual Property Rights or other rights that might be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any license under such rights might or might not be available; nor does it represent that it has made any independent effort to identify any such rights. Information on the procedures with respect to rights in RFC documents can be found in BCP 78 and BCP 79.</p><p>Copies of IPR disclosures made to the IETF Secretariat and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this specification can be obtained from the IETF on-line IPR repository at &lt;<a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>&gt;.</p><p>The IETF invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary rights that may cover technology that may be required to implement this standard. Please address the information to the IETF at <a href="mailto:ietf-ipr@ietf.org">ietf-ipr@ietf.org</a>.</p><h1><a name="rfc.disclaimer" href="#rfc.disclaimer">Disclaimer of Validity</a></h1><p>This document and the information contained herein are provided on an &#8220;AS IS&#8221; basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.</p><h1><a name="rfc.copyright" href="#rfc.copyright">Copyright Statement</a></h1><p>Copyright © The Internet Society (2006). This document is subject to the rights, licenses and restrictions contained in BCP 78, and except as set forth therein, the authors retain all their rights.</p><h1>Acknowledgement</h1><p>Funding for the RFC Editor function is currently provided by the Internet Society.</p></body></html>
