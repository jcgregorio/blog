<html>
<head>
   <link href="present.css" type="text/css" rel="stylesheet" />
   <title>Lessons from Dynamic Languages | robaccia.py</title>
</head>
<body>
  <div class='content'>
  <div class='nav'>
  <a accesskey="h" class="up" href="1.html">home</a>
  
  
<a accesskey="j" class="prev" href="101.html">&laquo;</a>
<a accesskey="k" class="next" href="103.html">&raquo;</a>
<h1>robaccia.py</h1>
</div><div class="page"> <pre>
<span class="Statement">def</span> <span class="Identifier">render</span>(start_response, template_file, vars):
    ext = template_file.rsplit(<span class="Normal">"</span><span class="Constant">.</span><span class="Normal">"</span>)
    contenttype = <span class="Normal">"</span><span class="Constant">text/html</span><span class="Normal">"</span>
    <span class="Statement">if</span> len(ext) &gt; 1 <span class="Statement">and</span> (ext[1] <span class="Statement">in</span> extensions):
        contenttype = extensions[ext[1]]

    template = kid.Template(file=os.path.join(
       <span class="Normal">'</span><span class="Constant">templates</span><span class="Normal">'</span>, template_file), **vars)
    body = template.serialize(encoding=<span class="Normal">'</span><span class="Constant">utf-8</span><span class="Normal">'</span>)

    start_response(<span class="Normal">"</span><span class="Constant">200 OK</span><span class="Normal">"</span>, [(<span class="Normal">'</span><span class="Constant">Content-Type</span><span class="Normal">'</span>, contenttype)])
    <span class="Statement">return</span> [body]

</pre>
<p><p></div></div></body></html>