---
title: Announcing pyTidy
date: 2003-11-21T12:00:00-05:00
---

  <p>I love tidy. I need tidy. What I really really want
is a simple wrapper around tidy that will let me
use it through Python.</p>

  <p>It's not that the current set of wrappers
are bad, it's just that they didn't meet my target
requirements. What are my target
requirements?</p>
<ol>
<li> Easy to build, well not necessarily easy, but not
   a lot of dependecies, nothing beyond Python, TidyLib, and maybe SWIG. </li>
<li> Easy to install (either a good 'make install', or just a couple files
   to copy into my project.) </li>
<li> Easy to call, this is what I want my end Python to look like:
  <p class="example"><code>
  import pytidy<br /><br />
  xhtml = pytidy.fix("just same &lt;b&gt;malformed HTML&lt;br/&gt; stuff")<br />
</code></p>
</li>
</ol>
<p>That's it, just a single fucntion that takes in poor markup and then returns
  well-formed XHTML as output. </p>
<h3>Introducing pyTidy</h3>
<p><a href="http://bitworking.org/projects/pytidy/pytidy_0.1.tar.gz">Download pyTidy</a>, a simple Python wrapper of TidyLib
  that has just the minimal interface described above.</p>
<p>Build Instructions:</p>
<ol>
<li>Install <a href="http://www.swig.org/">SWIG</a></li>
<li>Install <a href="http://tidy.sourceforge.net/">Tidy</a></li>
<li>Edit the variables at the top of the Makefile to
   reflect your current environment.
   <dl>
<dt>TOP</dt><dd>Set to the 'Examples' directory of your SWIG   installation.</dd>
<dt>INCLUDES</dt><dd>Change to point to the include directory for your    TidyLib install.</dd>
<dt>LIBS</dt><dd> Change to the full path of libtidy.a (libtidy.lib on    Windows).</dd>
</dl>
</li><li><p> Type 'make' to build. This will build two files:</p>
<p><code>pytidy.so</code> (or <code>_pytidy.dll</code> on Windows) and
     <code>pytidy.py</code></p>
<p>Copy both of these files into your project, or the right
   location in your Python libraries.</p></li>
</ol>
<h3>Release Notes</h3>
<p>Version 0.1 - Initial Release. Currently untested on Windows.</p>
<h3>Notes</h3>
<p>Yes, I would like to automate this whole process using
  <a href="http://python.org/doc/current/lib/module-distutils.html">distutils</a>, but
that will have to wait for a later release.</p>

  <div class="commentContent" id="X1">
    How about this: <a href="http://www.lemburg.com/files/python/mxTidy.html">http://www.lemburg.com/files/python/mxTidy.html</a> ? It "works for me"(tm).
    <p class="commentByLine">Posted by
       <a href="http://john.beimler.org/">John Beimler</a> on <a href="#X1" title="2003-11-22T01:42:18">2003-11-22</a>
    </p>
</div><div class="commentContent" id="X2">
    John,<br />
  I had avoided mxTidy as it looked like it was a fork of the original command line only Tidy.
    <p class="commentByLine">Posted by
       <a href="http://bitworking.org">Joe</a> on <a href="#X2" title="2003-11-26T22:53:08">2003-11-26</a>
    </p>
</div><div class="commentContent" id="X3">
    Is it possible to pass options to Tidy? How?
    <p class="commentByLine">Posted by
       <a href="mailto:">Yay</a> on <a href="#X3" title="2003-12-05T10:40:54">2003-12-05</a>
    </p>
</div><div class="commentContent" id="X4">
    Yay,<br />
  No, as of right now it is a single function that is hard coded to convert HTML into XHTML. If you'd like to extend the current binding to allow for options please feel free to do so. I'll also accept patches for a future release.
    <p class="commentByLine">Posted by
       <a href="http://bitworking.org">Joe</a> on <a href="#X4" title="2003-12-05T15:41:06">2003-12-05</a>
    </p>
</div><div class="commentContent" id="X5">
    <p>There is also </p>
<p><a href="http://utidylib.sourceforge.net/">http://utidylib.sourceforge.net/</a></p>
<p>Which uses ctypes, so it's dead easy to use on windows.</p>

    <p class="commentByLine">Posted by
       <a href="http://icepick.info/">icepick</a> on <a href="#X5" title="2004-04-16T13:56:44">2004-04-16</a>
    </p>
</div><div class="commentContent" id="X6">
    Alternatively, just open a pipe to a tidy process.  This is a lot simpler.
    <p class="commentByLine">Posted by
       <a href="mailto:">doug ransom</a> on <a href="#X6" title="2004-07-01T10:12:13">2004-07-01</a>
    </p>
</div><div class="commentContent" id="X7">
    <p>i need help converting any html to well formed xml in a server side .NET script.</p>
<p>can u help me? or direct me to a place where i can find what i am looking for?</p>
<p>thanks in advance,</p>
<p>danielb</p>

    <p class="commentByLine">Posted by
       <a href="mailto:daniel.bar@gmail.com">daniel bar</a> on <a href="#X7" title="2004-12-22T08:14:19">2004-12-22</a>
    </p>
</div>
  

